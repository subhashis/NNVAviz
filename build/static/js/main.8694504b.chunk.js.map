{"version":3,"sources":["assets/m1_128.png","assets/m2_128.png","assets/m2.png","assets/m3_128.png","assets/m3.png","assets/m4_128.png","assets/m4.png","data/weight_distribution_images sync nonrecursive /.(png|jpe?g|svg)$","data/weight_distribution_images/p00.png","data/weight_distribution_images/p01.png","data/weight_distribution_images/p02.png","data/weight_distribution_images/p03.png","data/weight_distribution_images/p04.png","data/weight_distribution_images/p05.png","data/weight_distribution_images/p06.png","data/weight_distribution_images/p07.png","data/weight_distribution_images/p08.png","data/weight_distribution_images/p09.png","data/weight_distribution_images/p10.png","data/weight_distribution_images/p11.png","data/weight_distribution_images/p12.png","data/weight_distribution_images/p13.png","data/weight_distribution_images/p14.png","data/weight_distribution_images/p15.png","data/weight_distribution_images/p16.png","data/weight_distribution_images/p17.png","data/weight_distribution_images/p18.png","data/weight_distribution_images/p19.png","data/weight_distribution_images/p20.png","data/weight_distribution_images/p21.png","data/weight_distribution_images/p22.png","data/weight_distribution_images/p23.png","data/weight_distribution_images/p24.png","data/weight_distribution_images/p25.png","data/weight_distribution_images/p26.png","data/weight_distribution_images/p27.png","data/weight_distribution_images/p28.png","data/weight_distribution_images/p29.png","data/weight_distribution_images/p30.png","data/weight_distribution_images/p31.png","data/weight_distribution_images/p32.png","data/weight_distribution_images/p33.png","data/weight_distribution_images/p34.png","my_radial_brush.js","CellChart.js","OutputCharts.js","HeatChart.js","circularHeatChart.js","barChart.js","inputComponents/Parameter.js","inputComponents/Preview.js","inputComponents/InputCharts.js","MatrixView.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","map","./p00.png","./p01.png","./p02.png","./p03.png","./p04.png","./p05.png","./p06.png","./p07.png","./p08.png","./p09.png","./p10.png","./p11.png","./p12.png","./p13.png","./p14.png","./p15.png","./p16.png","./p17.png","./p18.png","./p19.png","./p20.png","./p21.png","./p22.png","./p23.png","./p24.png","./p25.png","./p26.png","./p27.png","./p28.png","./p29.png","./p30.png","./p31.png","./p32.png","./p33.png","./p34.png","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","Object","resolve","my_radial_brush","_origin","_brushG","_originalBrushData","_extent","Math","PI","_circularbrushDispatch","d3","_arc","innerRadius","outerRadius","_brushData","startAngle","endAngle","class","_indiData","ang","_newBrushData","d3_window","window","_handleSize","_scale","domain","range","_circularbrush","_container","append","attr","selectAll","data","enter","insert","d","_","i","concat","cos","sin","select","on","resizeDown","d3_rebind","target","source","method","value","apply","arguments","extent","_value","_d","_r","_actualScale","length","_newStartAngle","invert","_newEndAngle","ceil","this","handleSize","arc","n","rebind","preventDefault","_mouse","node","resizeMove","extentUp","call","_resize","_current","atan2","_start","clampedAngle","max","min","CellChart","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","state","std","valueLen","colors","colorbrewer","slice","reverse","dom","push","colorScale","minValue","toConsumableArray","curve_mean","maxValue","dummy_data","my_points","max_std","Infinity","angle","protein_value","curve_std","tmp","radius","radialAreaGenerator1","curve","radialAreaGenerator2","changeView","_this2","width","size","draw_radial_axes","pathData2","pathData1","style","drawBrush","changePalette","paletteName","splice","gradientData","offset","color","gradient","newPalette","property","changeScale","scale","legD","textD","legend","text","toFixed","newScale","legendSvg","rDenSvg","cluster","root","denData","children","linksGenerator","x","y","g","hiC","name","links","height","descendants","over","split","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","loc","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","type","stdData","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","std_cluster","r","svg","ticks","ga","_this3","brush","brushMove","brushStart","brushEnd","g1","g2","g3","g4","comButton","_this4","snapBrush","brush2","start","end","brush3","updateMarks","lock","bind","actBrushMove","actBrushEnd","actBrushMoved","b","extentFun","resizeFun","unlock","locked","floor","interval","_this5","react_default","a","createElement","className","align","fontSize","textAlign","float","defaultValue","position","top","transform","lib_default","inactiveLabel","activeLabel","onToggle","setState","Component","HeatChart","sen_min","sen_max","sen_data","chart","margin","right","bottom","left","numSegments","segmentHeight","accessor","segmentLabels","radialLabels","selection","each","classed","autoDomain","l","int","ir","or","sa","ea","circularHeatChart","filter","feMerge","partColor","allColor","paraName","index","parseInt","getAttribute","classes","baseVal","heatcolorScale","BarChart","bar_h","tree","nodeData","maxDepth","currentDepth","max_allV","maxElement","bar_svg","sum","j","allV","partV","allSenHist","margin_left","margin_bottom","sE","fE","seE","y_axis","tickSizeInner","tickSizeOuter","axis_g","axis_g2","senDen","leaves","assign","parent","depth","nodes","sort","partial","bar_w","transition","duration","marks","label","es","marginTop","marginLeft","onChange","step","OutputCharts","selectionStarted","selectV","sensitivity","title","sen_mid_point","zoomListener","scaleExtent","k","new_selectV","mask","sA","eA","ani","requestAnimationFrame","updateSelection","console","log","$","appendTo","cancelAnimationFrame","add_select","sub_select","i1","i2","_i5","_i6","barMax","parseFloat","src_CellChart","changePreColor","src_HeatChart","barChart","Handle","Slider","handle","dragging","restProps","objectWithoutProperties","rc_tooltip_es","prefixCls","overlay","visible","placement","Parameters","para","paraS","handleInputChange","assertThisInitialized","handleSliderChange","event","new_para","new_paraS","obj","run","new_data","filename","element","document","setAttribute","encodeURIComponent","display","body","appendChild","click","removeChild","exp","row","key","download","JSON","stringify","file","getElementById","files","reader","FileReader","onload","parse","result","readAsText","tar","sl","mark","toString","sliders","_loop","hsC","vertical","trackStyle","backgroundColor","handleStyle","borderColor","visibility","dotStyle","columns","temp","Header","onClick","handleRunClick","handleSaveClick","handleExportClick","handleChangeClick","react_table_es","defaultPageSize","getTdProps","rowInfo","column","instance","handleOriginal","Preview","palette","cDiff","diffColor","diff","preColor","previewData","ori","factor","gradientDataDiff","curScale","scaleType","s","readOnly","InputCharts","Preview_Preview","Parameter_Parameters","request","tableClick","handleTableClick","MatrixView","images","require","url","axios","get","then","res","drawMatrix","prevProps","prevState","dy","dx","remove","svgMatrix","sorted","tooltip","empty","html","pageY","screenY","pageX","scaler","sen","bar_g","x_axis","tickValues","w2","w3","w4","content","src","m2","alt","m3","m4","moveSlider","onAfterChange","drawBarChart","railStyle","padding","m1_thumb","m2_thumb","m3_thumb","m4_thumb","viewBox","App","para_names","datum","pset","sortMarks","getData","level","abs","c","params","act","act_max","act_min","act_max_min","act_data","src_OutputCharts","InputCharts_InputCharts","src_MatrixView","Boolean","location","hostname","match","ReactDOM","render","src_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8694504b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/m1_128.295e71e6.png\";","module.exports = __webpack_public_path__ + \"static/media/m2_128.4c1e883f.png\";","module.exports = __webpack_public_path__ + \"static/media/m2.c5d49d6f.png\";","module.exports = __webpack_public_path__ + \"static/media/m3_128.0e825e6f.png\";","module.exports = __webpack_public_path__ + \"static/media/m3.edcebcc7.png\";","module.exports = __webpack_public_path__ + \"static/media/m4_128.7b678091.png\";","module.exports = __webpack_public_path__ + \"static/media/m4.4011ee83.png\";","var map = {\n\t\"./p00.png\": 186,\n\t\"./p01.png\": 187,\n\t\"./p02.png\": 188,\n\t\"./p03.png\": 189,\n\t\"./p04.png\": 190,\n\t\"./p05.png\": 191,\n\t\"./p06.png\": 192,\n\t\"./p07.png\": 193,\n\t\"./p08.png\": 194,\n\t\"./p09.png\": 195,\n\t\"./p10.png\": 196,\n\t\"./p11.png\": 197,\n\t\"./p12.png\": 198,\n\t\"./p13.png\": 199,\n\t\"./p14.png\": 200,\n\t\"./p15.png\": 201,\n\t\"./p16.png\": 202,\n\t\"./p17.png\": 203,\n\t\"./p18.png\": 204,\n\t\"./p19.png\": 205,\n\t\"./p20.png\": 206,\n\t\"./p21.png\": 207,\n\t\"./p22.png\": 208,\n\t\"./p23.png\": 209,\n\t\"./p24.png\": 210,\n\t\"./p25.png\": 211,\n\t\"./p26.png\": 212,\n\t\"./p27.png\": 213,\n\t\"./p28.png\": 214,\n\t\"./p29.png\": 215,\n\t\"./p30.png\": 216,\n\t\"./p31.png\": 217,\n\t\"./p32.png\": 218,\n\t\"./p33.png\": 219,\n\t\"./p34.png\": 220\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 185;","module.exports = __webpack_public_path__ + \"static/media/p00.020b9e2f.png\";","module.exports = __webpack_public_path__ + \"static/media/p01.1afbe6f9.png\";","module.exports = __webpack_public_path__ + \"static/media/p02.2b6b0a1b.png\";","module.exports = __webpack_public_path__ + \"static/media/p03.77207462.png\";","module.exports = __webpack_public_path__ + \"static/media/p04.988f4b61.png\";","module.exports = __webpack_public_path__ + \"static/media/p05.632534d1.png\";","module.exports = __webpack_public_path__ + \"static/media/p06.6cbb4990.png\";","module.exports = __webpack_public_path__ + \"static/media/p07.75fd8677.png\";","module.exports = __webpack_public_path__ + \"static/media/p08.78533c61.png\";","module.exports = __webpack_public_path__ + \"static/media/p09.af566657.png\";","module.exports = __webpack_public_path__ + \"static/media/p10.87572afc.png\";","module.exports = __webpack_public_path__ + \"static/media/p11.10f3b269.png\";","module.exports = __webpack_public_path__ + \"static/media/p12.2373ca1a.png\";","module.exports = __webpack_public_path__ + \"static/media/p13.0a74ed26.png\";","module.exports = __webpack_public_path__ + \"static/media/p14.3cd0a643.png\";","module.exports = __webpack_public_path__ + \"static/media/p15.801e1b34.png\";","module.exports = __webpack_public_path__ + \"static/media/p16.8c6e19bb.png\";","module.exports = __webpack_public_path__ + \"static/media/p17.9dd4ab66.png\";","module.exports = __webpack_public_path__ + \"static/media/p18.97cb4c92.png\";","module.exports = __webpack_public_path__ + \"static/media/p19.720329ce.png\";","module.exports = __webpack_public_path__ + \"static/media/p20.5f9ef802.png\";","module.exports = __webpack_public_path__ + \"static/media/p21.541ec3e4.png\";","module.exports = __webpack_public_path__ + \"static/media/p22.ca93fd6c.png\";","module.exports = __webpack_public_path__ + \"static/media/p23.e385d371.png\";","module.exports = __webpack_public_path__ + \"static/media/p24.97a02157.png\";","module.exports = __webpack_public_path__ + \"static/media/p25.8a08add1.png\";","module.exports = __webpack_public_path__ + \"static/media/p26.ef88d1e8.png\";","module.exports = __webpack_public_path__ + \"static/media/p27.2941800b.png\";","module.exports = __webpack_public_path__ + \"static/media/p28.6b4d7a0a.png\";","module.exports = __webpack_public_path__ + \"static/media/p29.d8b56059.png\";","module.exports = __webpack_public_path__ + \"static/media/p30.8b050c88.png\";","module.exports = __webpack_public_path__ + \"static/media/p31.18d2e398.png\";","module.exports = __webpack_public_path__ + \"static/media/p32.35579ea2.png\";","module.exports = __webpack_public_path__ + \"static/media/p33.99d3d7be.png\";","module.exports = __webpack_public_path__ + \"static/media/p34.84d0c27e.png\";","import * as d3 from 'd3';\r\n\r\nexport default function my_radial_brush() {\r\n\tvar _extent = [0, Math.PI * 2];\r\n\tvar _circularbrushDispatch = d3.dispatch('brushstart', 'brushend', 'brush');\r\n\tvar _arc = d3.arc().innerRadius(50).outerRadius(100);\r\n\tvar _brushData = [{\r\n\t\t\tstartAngle: _extent[0],\r\n\t\t\tendAngle: _extent[1],\r\n\t\t\tclass: \"extent\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tstartAngle: _extent[0] - .2,\r\n\t\t\tendAngle: _extent[0],\r\n\t\t\tclass: \"resize e\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tstartAngle: _extent[1],\r\n\t\t\tendAngle: _extent[1] + .2,\r\n\t\t\tclass: \"resize w\"\r\n\t\t}\r\n\t];\r\n\tvar _indiData=[{\r\n\t\t\tang:_extent[0],\r\n\t\t},\r\n\t\t{\r\n\t\t\tang:_extent[1],\r\n\t\t}];\r\n\tvar _newBrushData = [];\r\n\tvar d3_window = d3.select(window);\r\n\tvar _origin;\r\n\tvar _brushG;\r\n\tvar _handleSize = .2;\r\n\tvar _scale = d3.scaleLinear().domain(_extent).range(_extent);\r\n\tvar _originalBrushData;\r\n\r\n\tfunction _circularbrush(_container) {\r\n\r\n\t\t_brushG = _container\r\n\t\t\t.append(\"g\")\r\n\t\t\t.attr(\"class\", \"circularbrush\");\r\n\r\n\t\t_brushG\r\n\t\t\t.selectAll(\"path.circularbrush\")\r\n\t\t\t.data(_brushData)\r\n\t\t\t.enter()\r\n\t\t\t.insert(\"path\", \"path.resize\")\r\n\t\t\t.attr(\"d\", _arc)\r\n\t\t\t.attr(\"class\", function (d) {\r\n\t\t\t\treturn d.class + \" circularbrush\"\r\n\t\t\t})\r\n\r\n\t\td3.select('g.indi')\r\n\t\t\t.selectAll('line')\r\n\t\t\t.data(_indiData)\r\n\t\t\t.enter()\r\n\t\t\t.append('line')\r\n\t\t\t.attr('id',function(_,i){\r\n\t\t\t\treturn `indi_${i}`;\r\n\t\t\t})\r\n\t\t\t.attr('x1',0).attr('y1',0)\r\n\t\t\t.attr('x2',function(d){\r\n\t\t\t\treturn Math.cos(d.ang-Math.PI/2)*150;\r\n\t\t\t})\r\n\t\t\t.attr('y2',function(d){\r\n\t\t\t\treturn Math.sin(d.ang-Math.PI/2)*150;\r\n\t\t\t})\r\n\r\n\t\t_brushG.select(\"path.extent\")\r\n\t\t\t.on(\"mousedown.brush\", resizeDown)\r\n\r\n\t\t_brushG.selectAll(\"path.resize\")\r\n\t\t\t.on(\"mousedown.brush\", resizeDown)\r\n\r\n\t\treturn _circularbrush;\r\n\t}\r\n\r\n\t_circularbrush.extent = function (_value) {\r\n\t\tvar _d = _scale.domain();\r\n\t\tvar _r = _scale.range();\r\n\r\n\t\tvar _actualScale = d3.scaleLinear()\r\n\t\t\t.domain([-_d[1], _d[0], _d[0], _d[1]])\r\n\t\t\t.range([_r[0], _r[1], _r[0], _r[1]])\r\n\r\n\t\tif (!arguments.length) return [_actualScale(_extent[0]), _actualScale(_extent[1])];\r\n\t\t//update the brush when the new extent is set.\r\n\t\tlet _newStartAngle = _scale.invert(_value[0]);\r\n\t\tlet _newEndAngle = _scale.invert(_value[1])\r\n\r\n\t\tif (_newEndAngle<_newStartAngle){\r\n\t\t\tlet interval = Math.ceil((_newStartAngle-_newEndAngle)/(2*Math.PI))*Math.PI*2\r\n\t\t\t_newEndAngle+=interval;\r\n\t\t}\r\n\t\t_newBrushData = [{\r\n\t\t\t\tstartAngle: _newStartAngle,\r\n\t\t\t\tendAngle: _newEndAngle,\r\n\t\t\t\tclass: \"extent\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tstartAngle: _newStartAngle - _handleSize,\r\n\t\t\t\tendAngle: _newStartAngle,\r\n\t\t\t\tclass: \"resize e\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tstartAngle: _newEndAngle,\r\n\t\t\t\tendAngle: _newEndAngle + _handleSize,\r\n\t\t\t\tclass: \"resize w\"\r\n\t\t\t}\r\n\t\t]\r\n\r\n\t\t_brushG\r\n\t\t\t.selectAll(\"path.circularbrush\")\r\n\t\t\t.data(_newBrushData)\r\n\t\t\t.attr(\"d\", _arc)\r\n\r\n\t\tif (_newStartAngle > (Math.PI * 2)) {\r\n\t\t\t_newStartAngle = (_newStartAngle - (Math.PI * 2));\r\n\t\t} else if (_newStartAngle < -(Math.PI * 2)) {\r\n\t\t\t_newStartAngle = (_newStartAngle + (Math.PI * 2));\r\n\t\t}\r\n\r\n\t\tif (_newEndAngle > (Math.PI * 2)) {\r\n\t\t\t_newEndAngle = (_newEndAngle - (Math.PI * 2));\r\n\t\t} else if (_newEndAngle < -(Math.PI * 2)) {\r\n\t\t\t_newEndAngle = (_newEndAngle + (Math.PI * 2));\r\n\t\t}\r\n\t\t_extent = ([_newStartAngle, _newEndAngle]);\r\n\t\t_brushData = _newBrushData;\r\n\r\n\t\t_indiData=[{\r\n\t\t\tang:_extent[0],\r\n\t\t},\r\n\t\t{\r\n\t\t\tang:_extent[1],\r\n\t\t}];\r\n\r\n\t\td3.select('g.indi')\r\n\t\t\t.selectAll('line')\r\n\t\t\t.data(_indiData)\r\n\t\t\t.attr('x2',function(d){\r\n\t\t\t\treturn Math.cos(d.ang-Math.PI/2)*150;\r\n\t\t\t})\r\n\t\t\t.attr('y2',function(d){\r\n\t\t\t\treturn Math.sin(d.ang-Math.PI/2)*150;\r\n\t\t\t})\r\n\t\t\t.attr('x1',(d)=>{\r\n\t\t\t\treturn Math.cos(d.ang-Math.PI/2)*_arc.innerRadius()(_arc)\r\n\t\t\t})\r\n\t\t\t.attr('y1',(d)=>{\r\n\t\t\t\treturn Math.sin(d.ang-Math.PI/2)*_arc.innerRadius()(_arc)\r\n\t\t\t})\r\n\t\treturn this\r\n\t}\r\n\r\n\t_circularbrush.handleSize = function (_value) {\r\n\t\tif (!arguments.length) return _handleSize;\r\n\r\n\t\t_handleSize = _value;\r\n\t\t_brushData = [{\r\n\t\t\t\tstartAngle: _extent[0],\r\n\t\t\t\tendAngle: _extent[1],\r\n\t\t\t\tclass: \"extent\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tstartAngle: _extent[0] - _handleSize,\r\n\t\t\t\tendAngle: _extent[0],\r\n\t\t\t\tclass: \"resize e\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tstartAngle: _extent[1],\r\n\t\t\t\tendAngle: _extent[1] + _handleSize,\r\n\t\t\t\tclass: \"resize w\"\r\n\t\t\t}\r\n\t\t];\r\n\t\treturn this\r\n\t}\r\n\r\n\t_circularbrush.innerRadius = function (_value) {\r\n\t\tif (!arguments.length) return _arc.innerRadius();\r\n\r\n\t\t_arc.innerRadius(_value);\r\n\t\treturn this\r\n\t}\r\n\r\n\t_circularbrush.outerRadius = function (_value) {\r\n\t\tif (!arguments.length) return _arc.outerRadius();\r\n\r\n\t\t_arc.outerRadius(_value);\r\n\t\treturn this\r\n\t}\r\n\r\n\t_circularbrush.range = function (_value) {\r\n\t\tif (!arguments.length) return _scale.range();\r\n\r\n\t\t_scale.range(_value);\r\n\t\treturn this\r\n\t}\r\n\r\n\t_circularbrush.arc = function (_value) {\r\n\t\tif (!arguments.length) return _arc;\r\n\r\n\t\t_arc = _value;\r\n\t\treturn this\r\n\r\n\t}\r\n\r\n\trebind(_circularbrush, _circularbrushDispatch, \"on\");\r\n\r\n\t// Copies a variable number of methods from source to target.\r\n\tfunction rebind(target, source) {\r\n\t\tvar i = 1,\r\n\t\t\tn = arguments.length,\r\n\t\t\tmethod;\r\n\t\twhile (++i < n) {\r\n\t\t\ttarget[method = arguments[i]] = d3_rebind(target, source, source[method]);\r\n\t\t}\r\n\t\treturn target;\r\n\t};\r\n\r\n\t// Method is assumed to be a standard D3 getter-setter:\r\n\t// If passed with no arguments, gets the value.\r\n\t// If passed with arguments, sets the value and returns the target.\r\n\tfunction d3_rebind(target, source, method) {\r\n\t\treturn function () {\r\n\t\t\tvar value = method.apply(source, arguments);\r\n\t\t\treturn value === source ? target : value;\r\n\t\t};\r\n\t}\r\n\r\n\treturn _circularbrush;\r\n\r\n\tfunction resizeDown(d) {\r\n\t\td3.event.preventDefault();\r\n\t\tvar _mouse = d3.mouse(_brushG.node());\r\n\r\n\t\tif(_brushData[0])\r\n\t\t\t_originalBrushData = {\r\n\t\t\t\tstartAngle: _brushData[0].startAngle,\r\n\t\t\t\tendAngle: _brushData[0].endAngle\r\n\t\t\t};\r\n\r\n\t\t_origin = _mouse;\r\n\r\n\t\tif (d.class === \"resize e\") {\r\n\t\t\td3_window\r\n\t\t\t\t.on(\"mousemove.brush\", function () {\r\n\t\t\t\t\tresizeMove(\"e\")\r\n\t\t\t\t})\r\n\t\t\t\t.on(\"mouseup.brush\", extentUp);\r\n\t\t} else if (d.class === \"resize w\") {\r\n\t\t\td3_window\r\n\t\t\t\t.on(\"mousemove.brush\", function () {\r\n\t\t\t\t\tresizeMove(\"w\")\r\n\t\t\t\t})\r\n\t\t\t\t.on(\"mouseup.brush\", extentUp);\r\n\t\t} else {\r\n\t\t\td3_window\r\n\t\t\t\t.on(\"mousemove.brush\", function () {\r\n\t\t\t\t\tresizeMove(\"extent\")\r\n\t\t\t\t})\r\n\t\t\t\t.on(\"mouseup.brush\", extentUp);\r\n\t\t}\r\n\r\n\t\t_circularbrushDispatch.call('brushstart');\r\n\r\n\t}\r\n\r\n\tfunction resizeMove(_resize) {\r\n\t\tvar _mouse = d3.mouse(_brushG.node());\r\n\t\tvar _current = Math.atan2(_mouse[1], _mouse[0]);\r\n\t\tvar _start = Math.atan2(_origin[1], _origin[0]);\r\n\r\n\t\tif (_resize === \"e\") {\r\n\t\t\tvar clampedAngle = Math.max(Math.min(_originalBrushData.startAngle + (_current - _start), _originalBrushData.endAngle), _originalBrushData.endAngle - (2 * Math.PI));\r\n\r\n\t\t\tif (_originalBrushData.startAngle + (_current - _start) > _originalBrushData.endAngle) {\r\n\t\t\t\tclampedAngle = _originalBrushData.startAngle + (_current - _start) - (Math.PI * 2);\r\n\t\t\t} else if (_originalBrushData.startAngle + (_current - _start) < _originalBrushData.endAngle - (Math.PI * 2)) {\r\n\t\t\t\tclampedAngle = _originalBrushData.startAngle + (_current - _start) + (Math.PI * 2);\r\n\t\t\t}\r\n\r\n\t\t\tvar _newStartAngle = clampedAngle;\r\n\t\t\tvar _newEndAngle = _originalBrushData.endAngle;\r\n\t\t} else if (_resize === \"w\") {\r\n\t\t\tclampedAngle = Math.min(Math.max(_originalBrushData.endAngle + (_current - _start), _originalBrushData.startAngle), _originalBrushData.startAngle + (2 * Math.PI))\r\n\r\n\t\t\tif (_originalBrushData.endAngle + (_current - _start) < _originalBrushData.startAngle) {\r\n\t\t\t\tclampedAngle = _originalBrushData.endAngle + (_current - _start) + (Math.PI * 2);\r\n\t\t\t} else if (_originalBrushData.endAngle + (_current - _start) > _originalBrushData.startAngle + (Math.PI * 2)) {\r\n\t\t\t\tclampedAngle = _originalBrushData.endAngle + (_current - _start) - (Math.PI * 2);\r\n\t\t\t}\r\n\r\n\t\t\t_newStartAngle = _originalBrushData.startAngle;\r\n\t\t\t_newEndAngle = clampedAngle;\r\n\t\t} else {\r\n\t\t\t_newStartAngle = _originalBrushData.startAngle + (_current - _start * 1);\r\n\t\t\t_newEndAngle = _originalBrushData.endAngle + (_current - _start * 1);\r\n\t\t}\r\n\r\n\r\n\t\t_newBrushData = [{\r\n\t\t\t\tstartAngle: _newStartAngle,\r\n\t\t\t\tendAngle: _newEndAngle,\r\n\t\t\t\tclass: \"extent\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tstartAngle: _newStartAngle - _handleSize,\r\n\t\t\t\tendAngle: _newStartAngle,\r\n\t\t\t\tclass: \"resize e\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tstartAngle: _newEndAngle,\r\n\t\t\t\tendAngle: _newEndAngle + _handleSize,\r\n\t\t\t\tclass: \"resize w\"\r\n\t\t\t}\r\n\t\t]\r\n\r\n\t\t_brushG\r\n\t\t\t.selectAll(\"path.circularbrush\")\r\n\t\t\t.data(_newBrushData)\r\n\t\t\t.attr(\"d\", _arc)\r\n\r\n\t\tif (_newStartAngle > (Math.PI * 2)) {\r\n\t\t\t_newStartAngle = (_newStartAngle - (Math.PI * 2));\r\n\t\t} else if (_newStartAngle < -(Math.PI * 2)) {\r\n\t\t\t_newStartAngle = (_newStartAngle + (Math.PI * 2));\r\n\t\t}\r\n\r\n\t\tif (_newEndAngle > (Math.PI * 2)) {\r\n\t\t\t_newEndAngle = (_newEndAngle - (Math.PI * 2));\r\n\t\t} else if (_newEndAngle < -(Math.PI * 2)) {\r\n\t\t\t_newEndAngle = (_newEndAngle + (Math.PI * 2));\r\n\t\t}\r\n\r\n\t\t_extent = ([_newStartAngle, _newEndAngle]);\r\n\r\n\t\t_indiData=[{\r\n\t\t\tang:_extent[0],\r\n\t\t},\r\n\t\t{\r\n\t\t\tang:_extent[1],\r\n\t\t}];\r\n\r\n\t\td3.select('g.indi')\r\n\t\t\t.selectAll('line')\r\n\t\t\t.data(_indiData)\r\n\t\t\t.attr('x2',function(d){\r\n\t\t\t\treturn Math.cos(d.ang-Math.PI/2)*150;\r\n\t\t\t})\r\n\t\t\t.attr('y2',function(d){\r\n\t\t\t\treturn Math.sin(d.ang-Math.PI/2)*150;\r\n\t\t\t})\r\n\t\t\t.attr('x1',(d)=>{\r\n\t\t\t\treturn Math.cos(d.ang-Math.PI/2)*_arc.innerRadius()(_arc)\r\n\t\t\t})\r\n\t\t\t.attr('y1',(d)=>{\r\n\t\t\t\treturn Math.sin(d.ang-Math.PI/2)*_arc.innerRadius()(_arc)\r\n\t\t\t})\r\n\r\n\t\t_circularbrushDispatch.call('brush');\r\n\r\n\t}\r\n\r\n\tfunction extentUp() {\r\n\r\n\t\t_brushData = _newBrushData;\r\n\t\td3_window.on(\"mousemove.brush\", null).on(\"mouseup.brush\", null);\r\n\r\n\t\t_circularbrushDispatch.call('brushend');\r\n\t}\r\n\r\n\r\n}","import React, {\r\n  Component\r\n} from 'react';\r\nimport * as d3 from 'd3';\r\nimport colorbrewer from 'colorbrewer';\r\nimport my_radial_brush from './my_radial_brush';\r\nimport denData from './data/1/d3-dendrogram_protein'\r\nimport ToggleButton from 'react-toggle-button';\r\nimport stdData from './data/1/d3-dendrogram_protein_std'\r\nlet data;\r\n\r\nclass CellChart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    data = this.props.data;\r\n    this.state={\r\n      std: false,\r\n    } \r\n\r\n    // prepare radial axes data\r\n    const valueLen = this.props.valueLen;\r\n\r\n    // the color scale can be input \r\n    const paletteName = 'RdYlBu';\r\n    var colors = colorbrewer[paletteName][11];\r\n    colors = colors.slice(0).reverse();\r\n    let dom = [];\r\n    for (let i = 0; i < 11; i += 1) {\r\n      dom.push(i * 400 / 10);\r\n    }\r\n    this.colorScale = d3.scaleLinear().domain(dom).range(colors);\r\n\r\n    // calculate the value scale\r\n    this.minValue = Math.min(...data.curve_mean);\r\n    this.maxValue = Math.max(...data.curve_mean);\r\n\r\n    const dummy_data = d3.range(0, 2 * Math.PI, 2 * Math.PI / valueLen);\r\n    const uncertainty_scale = 1; //to keep uncertainty bands in scale\r\n    let my_points = [];\r\n    let max_std=-Infinity;\r\n    for (let i = 0; i < valueLen; i += 1) {\r\n      var angle = dummy_data[i];\r\n      var protein_value = data.curve_mean[i];\r\n      var std = data.curve_std[((i + valueLen / 2) % valueLen)] / uncertainty_scale;\r\n      if (std>max_std) max_std = std\r\n      let tmp = {\r\n        'angle': angle,\r\n        'std': std,\r\n        'value': protein_value,\r\n      };\r\n      my_points.push(tmp);\r\n    }\r\n    my_points.push(my_points[0]);\r\n    this.my_points = my_points;\r\n\r\n    // prepare generator\r\n    const radius = this.props.radius;\r\n    this.radialAreaGenerator1 = d3.radialArea()\r\n      .curve(d3.curveCardinalClosed)\r\n      .angle(function (d) {\r\n        return d.angle;\r\n      })\r\n      .innerRadius(function (d) {\r\n        let value = radius - 0.5* d.std;\r\n        return value;\r\n      })\r\n      .outerRadius(function (d) {\r\n        let value = radius + 0.5* d.std;\r\n        return value;\r\n      });\r\n\r\n    this.radialAreaGenerator2 = d3.radialArea()\r\n      .curve(d3.curveCardinalClosed)\r\n      .angle(function (d) {\r\n        return d.angle;\r\n      })\r\n      .innerRadius(function (d) {\r\n        let v = radius - d.std;\r\n        return v\r\n      })\r\n      .outerRadius(function (d) {\r\n        let v = radius + d.std;\r\n        return v\r\n      });\r\n\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    this.changeView()\r\n  }\r\n\r\n  componentDidMount() {\r\n    const width = this.props.size;\r\n    const radius = this.props.radius;\r\n\r\n    // create svg\r\n    d3.select(\"#mychart1\").select(\"svg.cell\")\r\n      .attr(\"viewBox\", `-${width/2} -${width/2} ${width} ${width}`)\r\n\r\n    // draw radial axes\r\n    this.draw_radial_axes();\r\n\r\n    //draw the std2\r\n    var pathData2 = this.radialAreaGenerator2(this.my_points);\r\n\r\n    d3.select(\"#mychart1\").select(\"svg\")\r\n      .append(\"g\")\r\n      .append('path')\r\n      .attr(\"class\", \"std2\")\r\n      .attr('d', pathData2);\r\n\r\n    // draw the std1\r\n    var pathData1 = this.radialAreaGenerator1(this.my_points);\r\n\r\n    d3.select(\"#mychart1\").select(\"svg\")\r\n      .append(\"g\")\r\n      .append('path')\r\n      .attr(\"class\", \"std1\")\r\n      .attr('d', pathData1);\r\n\r\n    // draw the value (marker)\r\n    const colorScale = this.colorScale;\r\n    var protein_markers = d3.select(\"#mychart1\").select(\"svg\")\r\n      .append(\"g\").attr(\"class\", \"protein_markers\");\r\n\r\n    var sel = protein_markers.selectAll(\"path\").data(this.my_points)\r\n    sel.enter()\r\n      .append(\"path\")\r\n      .attr(\"d\", d3.arc().innerRadius(radius - 2.5).outerRadius(radius + 2.5).startAngle((d) => d.angle + Math.PI - Math.PI / 400).endAngle((d) => d.angle + Math.PI + Math.PI / 400))\r\n      .attr(\"fill\", function (d, i) {\r\n        return colorScale(d.value)\r\n      })\r\n      .attr(\"stroke\", \"black\")\r\n      .attr(\"stroke-width\", 0.15)\r\n      .style(\"opacity\", 0.9)\r\n      .attr('id', function (d, i) {\r\n        if (i === 400) {\r\n          return 'loc0';\r\n        }\r\n        return 'loc' + i;\r\n      });\r\n\r\n    // draw brush\r\n    this.drawBrush();\r\n\r\n    // change colormap\r\n    const changePalette = paletteName => {\r\n      const classesNumber = 11;\r\n      var colors;\r\n      if(paletteName===\"seqGreen\" || paletteName===\"seqOrange\" || paletteName===\"seqPurple\"){\r\n        switch(paletteName){\r\n          case \"seqGreen\":\r\n            colors = colorbrewer[\"PRGn\"][classesNumber];\r\n            colors = colors.slice(0);\r\n            break;\r\n          case \"seqOrange\":\r\n            colors = colorbrewer[\"PuOr\"][classesNumber];\r\n            colors = colors.slice(0).reverse();\r\n            break;\r\n          case \"seqPurple\":\r\n            colors = colorbrewer[\"PRGn\"][classesNumber];\r\n            colors = colors.slice(0).reverse();\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        colors = colors.slice(5);\r\n        for (let i =0 ;i<10;i+=2){\r\n          colors.splice(i+1,0,d3.interpolateRgb(colors[i],colors[i+1])(0.5));\r\n        }\r\n      }else{\r\n        colors = colorbrewer[paletteName][classesNumber];\r\n        colors = colors.slice(0).reverse();\r\n      }\r\n      this.colorScale.range(colors);\r\n\r\n      //cell chart\r\n      d3.select(\"#mychart1\").select(\"g.protein_markers\").selectAll(\"path\")\r\n        .attr(\"fill\", d => {\r\n          return this.colorScale(d.value)\r\n        });\r\n\r\n      //legend\r\n      let gradientData = [];\r\n      for (let i=0;i<11;i++){\r\n        let tmp ={};\r\n        tmp.offset = (i*10)+'%';\r\n        tmp.color = this.colorScale.range()[i];\r\n        gradientData.push(tmp);\r\n      }\r\n      gradient.data(gradientData)\r\n        .attr(\"offset\", function(d) { return d.offset; })\r\n        .attr(\"stop-color\", function(d) { return d.color; });\r\n\r\n    };\r\n\r\n    d3.select(\"#cellColorMap\")\r\n      .on(\"keyup\", function () {\r\n        var newPalette = d3.select(\"#cellColorMap\").property(\"value\");\r\n        if (newPalette != null) // when interfaced with jQwidget, the ComboBox handles keyup event but value is then not available ?\r\n          changePalette(newPalette);\r\n      })\r\n      .on(\"change\", function () {\r\n        var newPalette = d3.select(\"#cellColorMap\").property(\"value\");\r\n        changePalette(newPalette);\r\n      });\r\n\r\n    const changeScale = scale => {\r\n      let legD = [];\r\n      let textD = [];\r\n      if (scale === 'full') {\r\n        for (let i = 0; i < 11; i++) {\r\n          legD.push(i * 400 / 10)\r\n        }\r\n        for (let i = 0; i < 5; i++) {\r\n          textD.push(i * 400 / 4)\r\n        }\r\n      } else {\r\n        for (let i = 0; i < 11; i++) {\r\n          legD.push(this.minValue + i * (this.maxValue - this.minValue) / 10)\r\n        }\r\n        for (let i = 0; i < 5; i++) {\r\n          textD.push(this.minValue + i * (this.maxValue - this.minValue) / 4)\r\n        }\r\n      }\r\n      this.colorScale.domain(legD);\r\n      d3.select(\"#mychart1\").select(\"g.protein_markers\").selectAll(\"path\")\r\n        .attr(\"fill\", d => {\r\n          return this.colorScale(d.value)\r\n        });\r\n\r\n      this.legend.data(textD)\r\n      this.legend.select(\"text\")\r\n        .text(function (d) {\r\n          return d.toFixed(0);\r\n        })\r\n    };\r\n\r\n    d3.select(\"#cellColorScale\")\r\n      .on(\"keyup\", function () {\r\n        var newScale = d3.select(\"#cellColorScale\").property(\"value\");\r\n        if (newScale != null) // when interfaced with jQwidget, the ComboBox handles keyup event but value is then not available ?\r\n          changeScale(newScale);\r\n      })\r\n      .on(\"change\", function () {\r\n        var newScale = d3.select(\"#cellColorScale\").property(\"value\");\r\n        changeScale(newScale);\r\n      });\r\n\r\n    let legD = [];\r\n    for (let i = 0; i < 11; i++) {\r\n      legD.push(i * 400 / 10)\r\n    }\r\n    let textD = [];\r\n    for (let i = 0; i < 5; i++) {\r\n      textD.push(i * 400 / 4)\r\n    }\r\n\r\n    const legendSvg = d3.select('svg#legend');\r\n    let gradientData = [];\r\n    for (let i=0;i<11;i++){\r\n      let tmp ={};\r\n      tmp.offset = (i*10)+'%';\r\n      tmp.color = this.colorScale.range()[i];\r\n      gradientData.push(tmp);\r\n    }\r\n    let gradient = legendSvg.append(\"linearGradient\")\r\n      .attr(\"id\", \"svgGradient\")\r\n      .attr(\"x1\", \"0%\")\r\n      .attr(\"x2\", \"100%\")\r\n      .attr(\"y1\", \"0%\")\r\n      .attr(\"y2\", \"0%\")\r\n      .selectAll(\"stop\")\r\n      .data(gradientData)\r\n      .enter().append(\"stop\")\r\n      .attr(\"offset\", function(d) { return d.offset; })\r\n      .attr(\"stop-color\", function(d) { return d.color; });\r\n\r\n    legendSvg.attr(\"viewBox\", `0 3 70 12`)\r\n      .style('width','100%')\r\n      .style('padding-left','14%')\r\n      .style('padding-right','14%')\r\n    var legend = legendSvg.append(\"g\")\r\n      .attr(\"class\", \"legend\")\r\n      .selectAll(\".legendElement\")\r\n      .data(textD)\r\n      .enter().append(\"g\")\r\n      .attr(\"class\", \"legendElement\");\r\n\r\n    this.legend = legend;\r\n\r\n    const legendElementWidth = 60 / 4;\r\n    const cellSize = 5;\r\n\r\n    legendSvg.append(\"rect\")\r\n      .attr(\"x\", 5)\r\n      .attr(\"y\", 5)\r\n      .attr(\"class\", \"cellLegend bordered\")\r\n      .attr(\"width\", 60)\r\n      .attr(\"height\", cellSize)\r\n      .style(\"fill\", \"url(#svgGradient)\");\r\n\r\n    legend.append(\"text\")\r\n      .attr(\"class\", \"mono legendElement\")\r\n      .text(function (d) {\r\n        return d.toFixed(0);\r\n      })\r\n      .style('font-size', '0.12vw')\r\n      .attr(\"x\", function (d, i) {\r\n        return 5 + legendElementWidth * i;\r\n      })\r\n      .attr(\"y\", 5 + cellSize +1)\r\n      .style('text-anchor', 'middle')\r\n      .style('dominant-baseline', 'hanging');\r\n\r\n    const rDenSvg = d3.select('svg#rDendo');\r\n    rDenSvg.attr(\"viewBox\", `0 10 100 100`);\r\n    let rad = 50;\r\n\r\n    // Create the cluster layout:\r\n    var cluster = d3.cluster()\r\n      .size([360, rad]); // 360 means whole circle. radius - 60 means 60 px of margin around dendrogram\r\n\r\n    // Give the data to this cluster layout:\r\n    var root = d3.hierarchy(denData, function (d) {\r\n      return d.children;\r\n    });\r\n    cluster(root);\r\n\r\n    // Features of the links between nodes:\r\n    var linksGenerator = d3.linkRadial()\r\n      .angle(function (d) {\r\n        return d.x / 180 * Math.PI;\r\n      })\r\n      .radius(function (d) {\r\n        return d.y;\r\n      });\r\n\r\n    // Add the links between nodes:\r\n    let g = rDenSvg.append('g').attr('transform', 'translate(50,50)');\r\n\r\n    g.selectAll('path')\r\n      .data(root.links().slice(1))\r\n      .enter()\r\n      .append('path')\r\n      .attr(\"d\", linksGenerator)\r\n      .style(\"fill\", 'none')\r\n      .attr(\"stroke\", '#ccc')\r\n      .style('visibility', (d) => {\r\n        return d.target.height >= 4 ? 'visible' : 'hidden';\r\n      })\r\n\r\n\r\n    // Add a circle for each node.\r\n    function hiC(root,color){\r\n      root = d3.select('#'+root);\r\n      const children = root.data()[0].data.children;\r\n      root.style('fill',color);\r\n      if(children.length>0){\r\n        hiC('n'+children[0].name,color);\r\n        hiC('n'+children[1].name,color);\r\n      }\r\n    };\r\n    g.selectAll(\"g\")\r\n      .data(root.descendants().slice(1))\r\n      .enter()\r\n      .append(\"g\")\r\n      .attr(\"transform\", function (d) {\r\n        return \"rotate(\" + (d.x - 90) + \")translate(\" + d.y + \")\";\r\n      })\r\n      .append(\"circle\")\r\n      .attr('id',(d,i)=>{\r\n        return 'n'+d.data.name;\r\n      })\r\n      .attr(\"r\", (d,i)=>{\r\n        return i===0?2:1;\r\n      })\r\n      .style('stroke','black')\r\n      .style('stroke-width','0.2px')\r\n      .style(\"fill\", \"#69b3a2\")\r\n      .style('visibility', (d) => {\r\n        return d.height >= 4 ? 'visible' : 'hidden';\r\n      })\r\n      .on('mouseover', function (d, i) {\r\n        const over = d.data.name.split('-');\r\n        for (const loc of over) {\r\n          d3.selectAll(`path#${loc}`)\r\n            .style('fill', 'yellow')\r\n        }\r\n        hiC('n'+d.data.name,'yellow');\r\n      })\r\n      .on('mouseout', (d, i) => {\r\n        const over = d.data.name.split('-');\r\n        for (const p of over) {\r\n          d3.selectAll(`path#${p}`)\r\n            .style('fill', this.colorScale(d.value));\r\n        }\r\n        hiC('n'+d.data.name,\"#69b3a2\");\r\n      })\r\n      rDenSvg.append('text')\r\n        .text('Cdc42 Clustering')\r\n        .style('text-anchor','start')\r\n        .style('dominant-baseline','baseline')\r\n        .attr('x',5)\r\n        .attr('y',100)\r\n        .style('font-size','6px')\r\n      this.changeView = ()=>{\r\n        let type = this.state.std?'std':'den'\r\n        let root = d3.hierarchy(type==='std'?stdData:denData, function (d) {\r\n          return d.children;\r\n        });\r\n        cluster(root);\r\n        g.selectAll('path')\r\n          .data(root.links().slice(1))\r\n          .attr(\"d\", linksGenerator)\r\n          .style('visibility', (d) => {\r\n            return d.target.height >= 4 ? 'visible' : 'hidden';\r\n          })\r\n        g.selectAll(\"g\")\r\n          .data(root.descendants().slice(1))\r\n          .attr(\"transform\", function (d) {\r\n            return \"rotate(\" + (d.x - 90) + \")translate(\" + d.y + \")\";\r\n          })\r\n          .select(\"circle\")\r\n          .attr('id',(d,i)=>{\r\n            return 'n'+d.data.name;\r\n          })\r\n          .attr(\"r\", (d,i)=>{\r\n            return i===0?2:1;\r\n          })\r\n          .style('visibility', (d) => {\r\n            return d.height >= 4 ? 'visible' : 'hidden';\r\n          })\r\n          .on('mouseover', function (d, i) {\r\n            const over = d.data.name.split('-');\r\n            for (const loc of over) {\r\n              d3.selectAll(`path#${loc}`)\r\n                .style('fill', 'yellow')\r\n            }\r\n            hiC('n'+d.data.name,'yellow');\r\n          })\r\n          .on('mouseout', (d, i) => {\r\n            const over = d.data.name.split('-');\r\n            for (const p of over) {\r\n              d3.selectAll(`path#${p}`)\r\n                .style('fill', this.colorScale(d.value));\r\n            }\r\n            hiC('n'+d.data.name,\"#69b3a2\");\r\n          })\r\n          this.std_cluster=type==='std'?true:false\r\n          rDenSvg.select('text')\r\n            .text((type==='std'?'Uncertainty ':'Cdc42 ')+'Clustering')\r\n      }\r\n  }\r\n\r\n  draw_radial_axes() {\r\n    const radius = this.props.radius;\r\n    var r = d3.scaleLinear()\r\n      .domain([0, .5])\r\n      .range([0, radius]);\r\n\r\n    var svg = d3.select(\"#mychart1\").select('svg');\r\n    var gr = svg.append(\"g\")\r\n      .attr(\"class\", \"r axis\")\r\n      .selectAll(\"g\")\r\n      .data(r.ticks(10).slice(1))\r\n      .enter().append(\"g\")\r\n\r\n    gr.append(\"circle\")\r\n      .attr(\"r\", r);\r\n\r\n    var ga = svg.append(\"g\")\r\n      .attr(\"class\", \"a axis\")\r\n      .selectAll(\"g\")\r\n      .data(d3.range(0, 360, 30))\r\n      .enter()\r\n      .append(\"g\")\r\n      .append(\"g\")\r\n      .attr(\"transform\", function (d) {\r\n        return \"rotate(\" + (d + 90) + \")\";\r\n      });\r\n\r\n    ga.append(\"line\")\r\n      .attr(\"x2\", radius + 30);\r\n\r\n    ga.append(\"text\")\r\n      .attr(\"x\", radius + 20)\r\n      .attr(\"y\", -6)\r\n      .attr(\"dy\", \".20em\")\r\n      .style(\"text-anchor\", function (d) {\r\n        return d < 180 && d > 0 ? \"end\" : null;\r\n      })\r\n      .attr(\"transform\", function (d) {\r\n        return d < 180 && d > 0 ? \"rotate(180 \" + (radius + 20) + \",-8)\" : null;\r\n      })\r\n      .text(function (d) {\r\n        return d + \"\";\r\n      });\r\n  }\r\n\r\n  drawBrush() {\r\n    let brush = my_radial_brush()\r\n      .range([0, this.props.valueLen])\r\n      .innerRadius(90)\r\n      .outerRadius(105)\r\n      .handleSize(0.08)\r\n      .on(\"brush\", () => {\r\n        this.props.brushMove(brush)\r\n      })\r\n      .on('brushstart', this.props.brushStart)\r\n      .on('brushend', this.props.brushEnd);\r\n\r\n\r\n    let g1 = d3.select(\"#mychart1\").select('svg')\r\n      .append(\"g\")\r\n      .attr(\"class\", \"brush\")\r\n    let g2 = d3.select(\"#mychart1\").select('svg')\r\n      .append(\"g\")\r\n      .attr(\"class\", \"brush\")\r\n    let g3 = d3.select(\"#mychart1\").select('svg')\r\n      .append(\"g\")\r\n      .attr(\"class\", \"brush\")\r\n    let g4 = d3.select('#mychart1').select('svg')\r\n      .append('circle')\r\n      .attr('cx',0)\r\n      .attr('cy',0)\r\n      .attr('r',15)\r\n      .style('fill','#ccffdd')\r\n      .on('click',comButton.bind(this))\r\n    \r\n    function comButton(){\r\n      snapBrush(brush2)\r\n      let extent = brush2.extent()\r\n      let start = extent[0]\r\n      let end = extent[1]\r\n      brush3.extent([end,start])\r\n      start = ((start+20)/40+5)%10\r\n      end = ((end-20)/40+5)%10\r\n      this.props.updateMarks(start,end,'Com')\r\n      lock(g2,'Max')\r\n      lock(g3,'Min')\r\n      g4.style('fill','#0c4')\r\n      g4.on('click',()=>{\r\n        g4.style('fill','#ccffdd')\r\n        g4.on('click',comButton.bind(this))\r\n      })\r\n    }\r\n\r\n    let brush2 = my_radial_brush()\r\n      .range([0, this.props.valueLen])\r\n      .innerRadius(60)\r\n      .outerRadius(75)\r\n      .handleSize(0.08)\r\n      .on('brush',()=>{\r\n        actBrushMove(g2)\r\n      })\r\n      .on('brushend',()=>{\r\n        actBrushEnd(g2,brush2,'Max')\r\n      })\r\n\r\n    let brush3 = my_radial_brush()\r\n      .range([0, this.props.valueLen])\r\n      .innerRadius(30)\r\n      .outerRadius(45)\r\n      .handleSize(0.08)\r\n      .on('brush',()=>{\r\n        actBrushMove(g3)\r\n      })\r\n      .on('brushend',()=>{\r\n        actBrushEnd(g3,brush3,'Min')\r\n      })\r\n\r\n    //prepare group for indi\r\n    d3.select(\"#mychart1\").select(\"svg\")\r\n      .append('g')\r\n      .attr('class', 'indi');\r\n\r\n    g1.call(brush);\r\n    g2.call(brush2);\r\n    g3.call(brush3);\r\n    g2.select('path.extent').style('fill','#ffcccc')\r\n    g3.select('path.extent').style('fill','#cceaff')\r\n    let actBrushMove = (g)=>{\r\n      g.actBrushMoved = true\r\n    }\r\n    let actBrushEnd = (g,b,type,color)=>{\r\n      snapBrush(b)\r\n      if(!g.actBrushMoved){\r\n        let extent = b.extent()\r\n        let start = extent[0]\r\n        let end = extent[1]\r\n        start = ((start+20)/40+5)%10\r\n        end = ((end-20)/40+5)%10\r\n        this.props.updateMarks(start,end,type)\r\n        lock(g,type)\r\n      }\r\n      g.actBrushMoved = false\r\n    }\r\n    let lock = (g,type)=>{\r\n      // lock the brush\r\n      g.extentFun = g.select('path.extent').on('mousedown.brush')\r\n      g.resizeFun = g.select('path.resize').on('mousedown.brush')\r\n      g.select('path.extent').on('mousedown.brush',()=>{})\r\n      g.selectAll('path.resize').on('mousedown.brush',()=>{})\r\n      if(type === 'Max'){\r\n        g.select('path.extent').style('fill','#ff1a1a')\r\n      }\r\n      else if (type === 'Min'){\r\n        g.select('path.extent').style('fill','dodgerblue')\r\n      }\r\n      g.on('mousedown',()=>{unlock(g,type)})\r\n      g.locked = true\r\n    }\r\n    let unlock = (g,type)=>{\r\n      if (g.locked){\r\n        g.select('path.extent').on('mousedown.brush',g.extentFun)\r\n        g.selectAll('path.resize').on('mousedown.brush',g.resizeFun)\r\n        g.on('click',null)\r\n        if(type === 'Max'){\r\n          g.select('path.extent').style('fill','#ffcccc')\r\n        }\r\n        else if (type === 'Min'){\r\n          g.select('path.extent').style('fill','#cceaff')\r\n        }\r\n        g.locked = false\r\n      }\r\n    }\r\n    function snapBrush(b){\r\n      const n = 10\r\n      const interval = 400/n\r\n      let start = b.extent()[0]\r\n      let end = b.extent()[1]\r\n      start = (Math.floor(start/interval)*interval+interval/2)%400\r\n      end = (Math.floor(end/interval)*interval+interval/2)%400\r\n      if(end === start) start = (start -40)%400\r\n\r\n      b.extent([start,end])\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return ( \r\n      <div className = \"block\" id = \"mychart1\">\r\n        <p align=\"center\" className=\"title\">Cdc42 Viz</p>\r\n        <div style={{fontSize:'0.8vw',textAlign:'center', width:'58.3%',float:\"left\",}}>\r\n          <svg className='cell'></svg>\r\n          Palette:&nbsp;\r\n          <select id=\"cellColorMap\" defaultValue='RdYlBu'>\r\n            <option value=\"RdYlGn\">RdYlGn</option>\r\n            <option value=\"Spectral\">Spectral</option>\r\n            <option value=\"RdYlBu\">RdYlBu</option>\r\n            <option value=\"RdGy\">RdGy</option>\r\n            <option value=\"RdBu\">RdBu</option>\r\n            <option value=\"PiYG\">PiYG</option>\r\n            <option value=\"PRGn\">PRGn</option>\r\n            <option value=\"BrBG\">BrBG</option>\r\n            <option value=\"PuOr\">PuOr</option>\r\n            <option value=\"seqPurple\">seqPurple</option>\r\n            <option value=\"seqGreen\">seqGreen</option>\r\n            <option value=\"seqOrange\">seqOrange</option>\r\n          </select>\r\n          &emsp;Scale:&nbsp;\r\n          <select id=\"cellColorScale\" defaultValue='full'>\r\n            <option value=\"full\">Full</option>\r\n            <option value=\"context\">Context</option>\r\n          </select>\r\n          <svg id='legend'></svg>\r\n        </div>\r\n        <div style={{float:'left',width:'40%',position:'relative',top:'5.5vw'}}>\r\n          <div style={{position: 'absolute',transform:'translate(14vw,14.8vw)',fontSize:'0.8vw'}}>\r\n            <ToggleButton\r\n              inactiveLabel={\"Cdc\"}\r\n              activeLabel={'UQ'}\r\n              value={this.state.std}\r\n              onToggle={(value) => {\r\n                this.setState({\r\n                  std: !value,\r\n                })\r\n              }} />\r\n          </div>\r\n          <svg id='rDendo' ></svg>\r\n        </div>\r\n      \r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CellChart;","import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport CellChart from './CellChart';\r\nimport HeatChart from './HeatChart';\r\nimport BarChart from './barChart';\r\nimport $ from 'jquery';\r\nlet data;\r\n\r\nclass OutputCharts extends Component {\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tallSenHist:[],\r\n\t\t};\r\n\t\tdata = this.props.data;\r\n\t\tthis.selectionStarted = false;\r\n\t\tthis.valueLen = 400;\r\n\t\tthis.selectV = [];\r\n\t\tfor (let i=0;i<400;i++){\r\n\t\t\tthis.selectV.push(i);\r\n\t\t}\r\n\r\n\t\t// prepare sensitivity\r\n\t\tthis.sen_data = [];\r\n\t\tthis.sen_max = data.sensitivity[0] ;\r\n\t\tthis.sen_min = data.sensitivity[0] ;\r\n\t\r\n\t\tfor (var i = 0; i < 400 * 35; i++) {\r\n\t\t\tthis.sen_data[i] = {\r\n\t\t\ttitle: \"Segment \" + i,\r\n\t\t\tvalue: data.sensitivity[i]\r\n\t\t\t};\r\n\t\t\tif (data.sensitivity[i]  > this.sen_max)\r\n\t\t\tthis.sen_max = data.sensitivity[i] ;\r\n\t\t\tif (data.sensitivity[i]  < this.sen_min)\r\n\t\t\tthis.sen_min = data.sensitivity[i] ;\r\n\t\t}\r\n\t\r\n\t\tthis.sen_mid_point = (this.sen_max + this.sen_min) / 2;\r\n\t\tlet maxElement=0;\r\n\t\tlet max_allV =0;\r\n\t\tthis.allSenHist = [];\r\n\t\tfor( let i=0; i<35; i++ ){\r\n\t\t\tlet sum = 0;\r\n\t\t\tlet index = i * 400;\r\n\t\t\tfor( let j=0; j<400; j++ ){\r\n\t\t\t  sum += this.sen_data[index + j].value;\r\n\t\t\t  if( maxElement < this.sen_data[index + j].value ){\r\n\t\t\t\tmaxElement = this.sen_data[index + j].value;\r\n\t\t\t  }\r\n\t\t\t}\r\n\t\t\tlet tmp = {\r\n\t\t\t  'allV': sum / 400,\r\n\t\t\t  'partV': 0,\r\n\t\t\t};\r\n\t\t\tif( max_allV < tmp.allV ){\r\n\t\t\t\tmax_allV = tmp.allV;\r\n\t\t\t}\r\n\t\t\tthis.allSenHist.push( tmp );\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\t// set up zoom functions\r\n\t\tconst svg = d3.select('#heatSvg');\r\n\t\tfunction zoom() {\r\n\t\t\tsvg.select('#selectedHeat')\r\n\t\t\t.attr('transform', 'rotate(180) translate(' + -d3.event.transform.x + ',' + -d3.event.transform.y + ') scale(' + d3.event.transform.k + ')');\r\n\t\t}\r\n\t\tthis.zoomListener = d3.zoom().scaleExtent([1, 4.5]).on(\"zoom\", zoom);\r\n\t\tsvg.call(this.zoomListener);\r\n\t\t\r\n\t}\r\n\r\n\tupdateSelection() {\r\n\t\tconst valueLen = this.valueLen;\r\n\t\tlet start = Math.ceil(this.start);\r\n\t\tlet end = Math.ceil(this.end);\r\n\t\tlet new_selectV = [];  //array to hold new selection\r\n\t\tif (start < end) {\r\n\t\t\tfor(let i = start;i<end;i++){\r\n\t\t\t\tnew_selectV.push(i);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor(let i=start;i<valueLen;i++){\r\n\t\t\t\tnew_selectV.push(i);\r\n\t\t\t}\r\n\t\t\tfor(let i=0;i<end;i++){\r\n\t\t\t\tnew_selectV.push(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\tnew_selectV.sort((a,b)=>{return a-b});\r\n\t\tthis.new_selectV = new_selectV;\r\n\r\n\t\t// draw mask\r\n\t\tlet mask = d3.select('div#mychart2').select('svg').select('#mask');\r\n\t\tlet sA = Math.PI*2*start/400+Math.PI;\r\n\t\tlet eA = Math.PI*2*end/400+Math.PI;\r\n\t\tif(eA>sA) eA-=Math.PI*2;\r\n\r\n\t\tmask.attr('d',d3.arc().innerRadius(50).outerRadius(35*3+50).startAngle(eA).endAngle(sA));\r\n\r\n\t\t// regeister animation\r\n\t\tthis.ani = requestAnimationFrame(this.updateSelection.bind(this));\r\n\t}\r\n\r\n\tbrushStart(){\r\n\t\tconsole.log('brush started');\r\n\t\tconst svg = d3.select('#heatSvg');\r\n\t\tconst id = d3.zoomIdentity.scale(1.1);\r\n\t\tsvg.call(this.zoomListener.transform, id);\r\n\t\td3.select('#selectedHeat')\r\n\t\t.attr('transform', 'rotate(180) scale(1)')\r\n\t\t.style(\"filter\", null);\r\n\t\t$('#mask').appendTo($('#mask').parent());\r\n\t\tthis.ani = this.updateSelection();\r\n\t}\r\n\tbrushEnd(){\r\n\t\tconsole.log('brush ended');\r\n\t\tcancelAnimationFrame(this.ani);\r\n\t\tlet selectV = this.selectV;\r\n\t\tconst new_selectV = this.new_selectV;\r\n\t\t// calculate add and sub selection\r\n\t\tlet add_select=[]; //additional element comapared to old selection\r\n\t\tlet sub_select=[]; //canceled element compared to old\r\n\t\tlet i1=0, i2=0;\r\n\t\twhile(true){\r\n\t\t\tif(i1===new_selectV.length){\r\n\t\t\t\tfor(let j=i2;j<selectV.length;j++){\r\n\t\t\t\t\tsub_select.push(selectV[j]);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telse if(i2===selectV.length){\r\n\t\t\t\tfor(let j=i1;j<new_selectV.length;j++){\r\n\t\t\t\t\tadd_select.push(new_selectV[j]);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telse if(new_selectV[i1]===selectV[i2]){\r\n\t\t\t\ti1++;i2++;\r\n\t\t\t}\r\n\t\t\telse if(new_selectV[i1]<selectV[i2]){\r\n\t\t\t\tadd_select.push(new_selectV[i1]);\r\n\t\t\t\ti1++;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tsub_select.push(selectV[i2]);\r\n\t\t\t\ti2++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// shadow effect\r\n\t\tif(!this.selectionStarted){\r\n\t\t\tfor (const index of this.new_selectV){\r\n\t\t\t\t$('#selectedHeat').append($(`path.heat.v${index}`));\r\n\t\t\t}\r\n\t\t\tthis.selectionStarted = true;\r\n\t\t} else {\r\n\t\t\tfor(const index of sub_select){\r\n\t\t\t\t$('.circular-heat').append($(`path.heat.v${index}`));\r\n\t\t\t}\r\n\t\t\tfor (const index of add_select){\r\n\t\t\t\t$('#selectedHeat').append($(`path.heat.v${index}`));\r\n\t\t\t}\r\n\t\t}\r\n\t\td3.select('#selectedHeat')\r\n\t\t.attr('transform', 'rotate(180) scale(1)');\r\n\t\t// .style(\"filter\", \"url(#drop-shadow)\");\r\n\t\t\r\n\t\t$('#selectedHeat').appendTo($('#selectedHeat').parent());\r\n\r\n\t\tselectV = this.selectV = new_selectV;\r\n\r\n\t\t// update bar chart\r\n\r\n\t\tlet barMax = 0;\r\n\t\tlet maxElement=0;\r\n\t\tfor( let i = 0; i < 35; i++ ){\r\n\t\t\tlet sum = 0;\r\n\t\t\tlet index = i * 400 + selectV[0];\r\n\t\t\tfor( let j = 0; j<selectV.length; j++ ){\r\n\t\t\t\tsum += this.sen_data[ index + j ].value;\r\n\t\t\t}\r\n\t\t\tfor( let j = 0; j<400; j++ ){\r\n\t\t\t\tif( maxElement < this.sen_data[i * 400 + j].value ){\r\n\t\t\t\t\tmaxElement = this.sen_data[i * 400 + j].value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.allSenHist[i].partV = parseFloat(sum /selectV.length);\r\n\t\t\tif( barMax < this.allSenHist[i].partV ){\r\n\t\t\t\tbarMax = this.allSenHist[i].partV\r\n\t\t\t}\r\n\t\t\tif( barMax < this.allSenHist[i].allV ){\r\n\t\t\t\tbarMax = this.allSenHist[i].allV\r\n\t\t\t}\r\n\t\t}\r\n\t\tbarMax = maxElement;\r\n\t\tmaxElement = maxElement<=0?1:maxElement;\r\n\t\tthis.setState({\r\n\t\t\tallSenHist: this.allSenHist,\r\n\t\t\tmaxElement: maxElement,\r\n\t\t})\r\n\r\n\r\n\t}\r\n\tbrushMove(brush){\r\n\t\tconsole.log('brush move')\r\n\t\tconst extent = brush.extent();\r\n\t\tconst valueLen = this.valueLen;\r\n\t\tthis.start = (extent[0]+valueLen/2)%valueLen;\r\n\t\tthis.end = (extent[1]+valueLen/2)%valueLen;\r\n\t}\r\n\r\n  render() {\r\n    return (\r\n\t\t<div>\r\n\t\t\t<CellChart \r\n\t\t\t\tdata = {data}\r\n\t\t\t\tradius={150} \r\n\t\t\t\tsize={400} \r\n\t\t\t\tvalueLen={400}\r\n\t\t\t\tbrushStart = {this.brushStart.bind(this)}\r\n\t\t\t\tbrushEnd = {this.brushEnd.bind(this)}\r\n\t\t\t\tbrushMove = {this.brushMove.bind(this)}\r\n\t\t\t\tsen_min={this.sen_min} \r\n\t\t\t\tsen_max={this.sen_max} \r\n\t\t\t\tchangePreColor = {this.props.changePreColor}\r\n\t\t\t\tupdateMarks = {this.props.updateMarks}\r\n\t\t\t/>\r\n\t\t\t\r\n\t\t\t<HeatChart radius={150} \r\n\t\t\t\t\t\tsize={400} \r\n\t\t\t\t\t\tsen_data={this.sen_data} \r\n\t\t\t\t\t\tsen_min={this.sen_min} \r\n\t\t\t\t\t\tsen_max={this.sen_max} \r\n\t\t\t\t\t\tsen_mid_point={this.sen_mid_point}\r\n\t\t\t\t\t\tparaName = {this.props.paraName}\r\n\t\t\t>\r\n\t\t\t\t<BarChart  sen_data={this.sen_data} \r\n\t\t\t\t\t\t\tsen_min={this.sen_min} \r\n\t\t\t\t\t\t\tsen_max={this.sen_max} \r\n\t\t\t\t\t\t\tsen_mid_point={this.sen_mid_point}\r\n\t\t\t\t\t\t\tallSenHist={this.state.allSenHist}\r\n\t\t\t\t\t\t\tmaxElement={this.state.maxElement}\r\n\t\t\t\t\t\t\tparaName = {this.props.paraName}\r\n\t\t\t\t/>\r\n\t\t\t</HeatChart>\r\n\t\t</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OutputCharts;\r\n","import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport circularHeatChart from './circularHeatChart';\r\nimport colorbrewer from 'colorbrewer';\r\n\r\nclass HeatChart extends Component {\r\n\r\n  componentDidMount(){\r\n    // draw heat chart\r\n    const sen_min = this.props.sen_min;\r\n    // const sen_mid_point = this.props.sen_mid_point;\r\n    const sen_max = this.props.sen_max;\r\n    const sen_data = this.props.sen_data;\r\n    const chart = circularHeatChart();\r\n    // const width = this.props.size;\r\n    const paletteName = 'RdYlBu';\r\n    var colors = colorbrewer[paletteName][11];\r\n    colors = colors.slice(0).reverse();\r\n\r\n    chart.segmentHeight(3)\r\n      .innerRadius(50)\r\n      .numSegments(this.props.size)\r\n      .range(colors)\r\n      .accessor(accessorFun)\r\n      .radialLabels(null)\r\n      .segmentLabels(null);\r\n    d3.select('#mychart2')\r\n      .select('svg#heatSvg')\r\n      .data([sen_data])\r\n      .attr(\"viewBox\", `-200 -200 400 399`)\r\n      .attr(\"class\", \"heat\")\r\n      .call(chart);\r\n\r\n    function accessorFun(d){\r\n      return d.value;\r\n    }\r\n\r\n    const svg = d3.select('#mychart2').select('svg#heatSvg')\r\n    //draw mask\r\n    svg.append('path')\r\n      .attr('id','mask')\r\n      .attr('d',d3.arc().innerRadius(50).outerRadius(35*3+50).startAngle(0).endAngle(0))\r\n      .style('opacity','0.3')\r\n      .style('fill','white')\r\n\r\n    //draw drop shadow\r\n    // create filter with id #drop-shadow\r\n    // height=130% so that the shadow is not clipped\r\n    svg.attr('id','heatSvg');\r\n    let filter = svg.append(\"filter\")\r\n    .attr(\"id\", \"drop-shadow\")\r\n    .attr(\"height\", \"130%\");\r\n\r\n    // SourceAlpha refers to opacity of graphic that this filter will be applied to\r\n    // convolve that with a Gaussian with standard deviation 3 and store result\r\n    // in blur\r\n    filter.append(\"feGaussianBlur\")\r\n    .attr(\"in\", \"SourceAlpha\")\r\n    .attr(\"stdDeviation\", 5)\r\n    .attr(\"result\", \"blur\");\r\n\r\n    // translate output of Gaussian blur to the right and downwards with 2px\r\n    // store result in offsetBlur\r\n    filter.append(\"feOffset\")\r\n    .attr(\"in\", \"blur\")\r\n    .attr(\"dx\", -5)\r\n    .attr(\"dy\", -5)\r\n    .attr(\"result\", \"offsetBlur\");\r\n\r\n    // overlay original SourceGraphic over translated blurred opacity by using\r\n    // feMerge filter. Order of specifying inputs is important!\r\n    let feMerge = filter.append(\"feMerge\");\r\n\r\n    feMerge.append(\"feMergeNode\")\r\n    .attr(\"in\", \"offsetBlur\")\r\n    feMerge.append(\"feMergeNode\")\r\n    .attr(\"in\", \"SourceGraphic\");\r\n\r\n    //draw selected group\r\n\t\tsvg.append('g')\r\n      .attr('id','selectedHeat')\r\n      .attr(\"transform\", \"rotate(180) scale(1.1)\")\r\n      .style(\"filter\", \"url(#drop-shadow)\");\r\n\r\n    // selected value on the cornor\r\n    svg.append('text')\r\n      .text('')\r\n      // .text(this.props.paraName[0])\r\n      .attr('id','P')\r\n      .attr('x',0)\r\n      .attr('y',-2)\r\n      .style('text-anchor','middle')\r\n      .style('dominant-baseline','baseline');\r\n    \r\n    svg.append('text')\r\n      .text('')\r\n      .attr('id','senValue')\r\n      .attr('x',0)\r\n      .attr('y',2)\r\n      .style('text-anchor','middle')\r\n      .style('dominant-baseline','hanging');\r\n    \r\n    const partColor = d3.selectAll(`rect#partial`).attr('fill')\r\n    const allColor = d3.selectAll(`rect#all`).attr('fill')\r\n    const paraName = this.props.paraName;\r\n    svg.selectAll('path.heat')\r\n      .on('mouseover', function(d,i){\r\n        svg.select('#senValue')\r\n          .text(`${d.value.toFixed(2)}`);\r\n        const index = parseInt(this.getAttribute(\"class\").split(' ')[1].slice(1));\r\n        svg.select('#P')\r\n          .text(`${paraName[index]}`);\r\n        let classes = this.className.baseVal.split(' ');\r\n        d3.selectAll(`rect.${classes[1]}`)\r\n          .style('fill','yellow')\r\n        \r\n      })\r\n      .on('mouseout',function(d,i){\r\n        let classes = this.className.baseVal.split(' ');\r\n        d3.selectAll(`rect.${classes[1]}#all`)\r\n          .style('fill',allColor);\r\n        d3.selectAll(`rect.${classes[1]}#partial`)\r\n          .style('fill',partColor);\r\n        svg.select('#senValue')\r\n          .text(``);\r\n        svg.select('#P')\r\n          .text(``);\r\n      })\r\n    const legendSvg = d3.select('#mychart2').select('svg#legend')\r\n    legendSvg.style('width','100%')\r\n      .attr(\"viewBox\", `0 3 70 12`)\r\n      .style('padding-left','14.4%')\r\n      .style('padding-right','14.4%')\r\n    \r\n    let legD = [];\r\n    for (let i = 0; i < 11; i++) {\r\n      legD.push(sen_min+ i * (sen_max-sen_min) / 10)\r\n    }\r\n    this.colorScale = d3.scaleLinear().domain(legD).range(colors)\r\n    let textD = [];\r\n    for (let i = 0; i < 5; i++) {\r\n      textD.push(sen_min+ i * (sen_max-sen_min) / 4)\r\n    }\r\n    let gradientData = [];\r\n    for (let i=0;i<11;i++){\r\n      let tmp ={};\r\n      tmp.offset = (i*10)+'%';\r\n      tmp.color = this.colorScale.range()[i];\r\n      gradientData.push(tmp);\r\n    }\r\n    let gradient = legendSvg.append(\"linearGradient\")\r\n      .attr(\"id\", \"heatGradient\")\r\n      .attr(\"x1\", \"0%\")\r\n      .attr(\"x2\", \"100%\")\r\n      .attr(\"y1\", \"0%\")\r\n      .attr(\"y2\", \"0%\")\r\n      .selectAll(\"stop\")\r\n      .data(gradientData)\r\n      .enter().append(\"stop\")\r\n      .attr(\"offset\", function(d) { return d.offset; })\r\n      .attr(\"stop-color\", function(d) { return d.color; });\r\n\r\n    var legend = legendSvg.append(\"g\")\r\n      .attr(\"class\", \"legend\")\r\n      .selectAll(\".legendElement\")\r\n      .data(textD)\r\n      .enter().append(\"g\")\r\n      .attr(\"class\", \"legendElement\");\r\n\r\n    this.legend = legend;\r\n\r\n    const legendElementWidth = 60 / 4;\r\n    const cellSize = 5;\r\n\r\n    legendSvg.append(\"rect\")\r\n      .attr(\"x\", 5)\r\n      .attr(\"y\", 5)\r\n      .attr(\"class\", \"cellLegend bordered\")\r\n      .attr(\"width\", 60)\r\n      .attr(\"height\", cellSize)\r\n      .style(\"fill\", \"url(#heatGradient)\");\r\n\r\n    legend.append(\"text\")\r\n      .attr(\"class\", \"mono legendElement\")\r\n      .text(function (d) {\r\n        return d.toFixed(0);\r\n      })\r\n      .style('font-size', '0.12vw')\r\n      .attr(\"x\", function (d, i) {\r\n        return 5 + legendElementWidth * i;\r\n      })\r\n      .attr(\"y\", 5 + cellSize +1)\r\n      .style('text-anchor', 'middle')\r\n      .style('dominant-baseline', 'hanging');\r\n\r\n    // change colormap\r\n    const changePalette = paletteName => {\r\n      const classesNumber = 11;\r\n      var colors;\r\n      if(paletteName===\"seqGreen\" || paletteName===\"seqOrange\" || paletteName===\"seqPurple\"){\r\n        switch(paletteName){\r\n          case \"seqGreen\":\r\n            colors = colorbrewer[\"PRGn\"][classesNumber];\r\n            colors = colors.slice(0);\r\n            break;\r\n          case \"seqOrange\":\r\n            colors = colorbrewer[\"PuOr\"][classesNumber];\r\n            colors = colors.slice(0).reverse();\r\n            break;\r\n          case \"seqPurple\":\r\n            colors = colorbrewer[\"PRGn\"][classesNumber];\r\n            colors = colors.slice(0).reverse();\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        colors = colors.slice(5);\r\n        for (let i =0 ;i<10;i+=2){\r\n          colors.splice(i+1,0,d3.interpolateRgb(colors[i],colors[i+1])(0.5));\r\n        }\r\n      }else{\r\n        colors = colorbrewer[paletteName][classesNumber];\r\n        colors = colors.slice(0).reverse();\r\n      }\r\n      this.colorScale.range(colors);\r\n\r\n      //legend\r\n      let gradientData = [];\r\n      for (let i=0;i<11;i++){\r\n        let tmp ={};\r\n        tmp.offset = (i*10)+'%';\r\n        tmp.color = this.colorScale.range()[i];\r\n        gradientData.push(tmp);\r\n      }\r\n      gradient.data(gradientData)\r\n        .attr(\"offset\", function(d) { return d.offset; })\r\n        .attr(\"stop-color\", function(d) { return d.color; });\r\n\r\n      //heat map\r\n      let heatcolorScale = d3.scaleLinear()\r\n        .domain(legD)\r\n        .range(colors);\r\n      d3.select('#heatSvg').selectAll(\"path.heat\")\r\n        .style(\"fill\", function (d) {\r\n          if (d != null) return heatcolorScale(d.value);\r\n          else return \"url(#diagonalHatch)\";\r\n        })\r\n    };\r\n\r\n    d3.select(\"#heatColorMap\")\r\n      .on(\"keyup\", function () {\r\n        var newPalette = d3.select(\"#heatColorMap\").property(\"value\");\r\n        if (newPalette != null) // when interfaced with jQwidget, the ComboBox handles keyup event but value is then not available ?\r\n          changePalette(newPalette);\r\n      })\r\n      .on(\"change\", function () {\r\n        var newPalette = d3.select(\"#heatColorMap\").property(\"value\");\r\n        changePalette(newPalette);\r\n      });\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div className = \"block\" id = \"mychart2\">\r\n        <div style={{width:'50%',float:\"left\"}}>\r\n          <p align=\"center\" className='title' style={{width:'100%',float:\"left\"}}>Parameter Sensitivity View</p>\r\n          <div>\r\n            <svg id=\"heatSvg\"></svg>\r\n            <div style={{fontSize:'0.8vw',textAlign:'center'}}>\r\n              Palette:&nbsp;\r\n              <select id=\"heatColorMap\" defaultValue='RdYlBu'>\r\n                <option value=\"RdYlGn\">RdYlGn</option>\r\n                <option value=\"Spectral\">Spectral</option>\r\n                <option value=\"RdYlBu\">RdYlBu</option>\r\n                <option value=\"RdGy\">RdGy</option>\r\n                <option value=\"RdBu\">RdBu</option>\r\n                <option value=\"PiYG\">PiYG</option>\r\n                <option value=\"PRGn\">PRGn</option>\r\n                <option value=\"BrBG\">BrBG</option>\r\n                <option value=\"PuOr\">PuOr</option>\r\n                <option value=\"seqPurple\">seqPurple</option>\r\n                <option value=\"seqGreen\">seqGreen</option>\r\n                <option value=\"seqOrange\">seqOrange</option>\r\n              </select>\r\n              <svg id='legend'></svg>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HeatChart;\r\n","import * as d3 from 'd3';\r\nexport default function circularHeatChart() {\r\n    var margin = {\r\n            top: 20,\r\n            right: 20,\r\n            bottom: 20,\r\n            left: 20\r\n        },\r\n        innerRadius = 50,\r\n        numSegments = 24,\r\n        segmentHeight = 20,\r\n        domain = null,\r\n        range = [\"white\", \"red\"],\r\n        accessor = function (d) {\r\n            return d;\r\n        },\r\n        segmentLabels = [],\r\n        radialLabels = segmentLabels;\r\n\r\n    function chart(selection) {\r\n        selection.each(function (data) {\r\n            var svg = d3.select(this);\r\n\r\n            var g = svg.append(\"g\")\r\n                .classed(\"circular-heat\", true)                \r\n                .attr(\"transform\", \"rotate(180)\");\r\n\r\n            var autoDomain = false;\r\n            if (domain === null) {\r\n                domain = d3.extent(data, accessor);\r\n                let l = range.length;\r\n                let int = (domain[1]-domain[0])/(l-1)\r\n                let tmp = []\r\n                for (let i =0;i<l;i++){\r\n                    tmp.push(domain[0]+int*i)\r\n                }\r\n                domain = tmp\r\n                autoDomain = true;\r\n            }\r\n            var color = d3.scaleLinear().domain(domain).range(range);\r\n            if (autoDomain)\r\n                domain = null;\r\n\r\n            g.selectAll(\"path\").data(data)\r\n                .enter().append(\"path\")\r\n                .attr(\"d\", d3.arc().innerRadius(ir).outerRadius(or).startAngle(sa).endAngle(ea))\r\n                .attr(\"fill\", function (d) {\r\n                    return color(accessor(d));\r\n                })\r\n                .attr('class', (_,i) =>{\r\n                    // push class as index\r\n                    return `heat p${Math.floor(i / numSegments)} v${i%numSegments}`;\r\n                })\r\n        });\r\n\r\n    }\r\n\r\n    /* Arc functions */\r\n    let ir = function (d, i) {\r\n        return innerRadius + Math.floor(i / numSegments) * segmentHeight;\r\n    }\r\n    let or = function (d, i) {\r\n        return innerRadius + segmentHeight + Math.floor(i / numSegments) * segmentHeight;\r\n    }\r\n    let sa = function (d, i) {\r\n        return (i * 2 * Math.PI) / numSegments;\r\n    }\r\n    let ea = function (d, i) {\r\n        return ((i + 1) * 2 * Math.PI) / numSegments;\r\n    }\r\n\r\n    /* Configuration getters/setters */\r\n    chart.margin = function (_) {\r\n        if (!arguments.length) return margin;\r\n        margin = _;\r\n        return chart;\r\n    };\r\n\r\n    chart.innerRadius = function (_) {\r\n        if (!arguments.length) return innerRadius;\r\n        innerRadius = _;\r\n        return chart;\r\n    };\r\n\r\n    chart.numSegments = function (_) {\r\n        if (!arguments.length) return numSegments;\r\n        numSegments = _;\r\n        return chart;\r\n    };\r\n\r\n    chart.segmentHeight = function (_) {\r\n        if (!arguments.length) return segmentHeight;\r\n        segmentHeight = _;\r\n        return chart;\r\n    };\r\n\r\n    chart.domain = function (_) {\r\n        if (!arguments.length) return domain;\r\n        domain = _;\r\n        return chart;\r\n    };\r\n\r\n    chart.range = function (_) {\r\n        if (!arguments.length) return range;\r\n        range = _;\r\n        return chart;\r\n    };\r\n\r\n    chart.radialLabels = function (_) {\r\n        if (!arguments.length) return radialLabels;\r\n        if (_ == null) _ = [];\r\n        radialLabels = _;\r\n        return chart;\r\n    };\r\n\r\n    chart.segmentLabels = function (_) {\r\n        if (!arguments.length) return segmentLabels;\r\n        if (_ == null) _ = [];\r\n        segmentLabels = _;\r\n        return chart;\r\n    };\r\n\r\n    chart.accessor = function (_) {\r\n        if (!arguments.length) return accessor;\r\n        accessor = _;\r\n        return chart;\r\n    };\r\n\r\n    return chart;\r\n}","import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport Slider from 'rc-slider';\r\nimport data from './data/1/d3-dendrogram_param_sensitivity';\r\n\r\nclass BarChart extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.bar_h = 40;\r\n    let bar_h = this.bar_h;\r\n    var width = 112-bar_h*2-5;\r\n    var height = 100;\r\n\r\n    // Create the cluster layout:\r\n    // var cluster = d3.cluster()\r\n    //   .size([height, width]);\r\n\r\n    let tree = d3.tree()\r\n      .size([height,width]);\r\n\r\n\r\n    // Give the data to this cluster layout:\r\n    var root = d3.hierarchy(data, function(d) {\r\n        return d.children;\r\n    });\r\n    tree(root);\r\n    this.nodeData = root.descendants().slice(1);\r\n    this.state = {\r\n      maxDepth: root.height,\r\n      currentDepth: 4,\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    //draw basic \r\n    let max_allV = 0;\r\n    let maxElement=0;\r\n    let bar_svg = d3.select('#bar').select('svg').attr(\"id\", \"bar_svg\");\r\n    const allColor='#3239ff';\r\n    const partColor='#f46b42';\r\n    for( let i=0; i<35; i++ ){\r\n        let sum = 0;\r\n        let index = i * 400;\r\n        for( let j=0; j<400; j++ ){\r\n          sum += this.props.sen_data[index + j].value;\r\n          if( maxElement < this.props.sen_data[index + j].value ){\r\n            maxElement = this.props.sen_data[index + j].value;\r\n          }\r\n        }\r\n        let tmp = {\r\n          'allV': sum / 400,\r\n          'partV': 0,\r\n        };\r\n        if( max_allV < tmp.allV ){\r\n            max_allV = tmp.allV;\r\n        }\r\n        this.props.allSenHist.push( tmp );\r\n    }\r\n    max_allV = maxElement;\r\n\r\n    this.max_allV = max_allV;\r\n\r\n    bar_svg.attr(\"viewBox\", `0 0 100 112`)\r\n      .attr('preserveAspectRatio',\"none\")\r\n\r\n    let bar_h = this.bar_h;\r\n    const margin_left = 12\r\n    this.margin_left = margin_left\r\n    const margin_bottom = 3\r\n    this.margin_bottom = margin_bottom\r\n    let bar_w = (100-margin_left)/35;\r\n    const sE = 112-2*this.bar_h-margin_bottom;\r\n    const fE = sE+this.bar_h;\r\n    const seE = fE+this.bar_h;\r\n\r\n    let y = d3.scaleLinear().domain([0,max_allV]).range([112-margin_bottom,fE])\r\n    let y_axis = d3.axisLeft(y).tickSizeInner(1).ticks(5).tickSizeOuter(0)\r\n    let axis_g = bar_svg.append('g')\r\n      .attr('transform',`translate(${margin_left},-0.5)`)\r\n      .call(y_axis)\r\n    axis_g.selectAll('text')\r\n      .style('font-size','3px')\r\n    axis_g.selectAll('line')\r\n      .style('stroke-width','0.2px')\r\n    axis_g.select('.domain')\r\n      .style('stroke-width','0.2px')\r\n\r\n    let axis_g2 = bar_svg.append('g')\r\n      .attr('transform',`translate(${margin_left},${-this.bar_h-0.5})`)\r\n      .call(y_axis)\r\n    axis_g2.selectAll('text')\r\n      .style('font-size','3px')\r\n    axis_g2.selectAll('line')\r\n      .style('stroke-width','0.2px')\r\n    axis_g2.select('.domain')\r\n      .style('stroke-width','0.2px')\r\n\r\n\r\n    // set up the group\r\n    let senDen=bar_svg.append('g')\r\n      .attr('id','senDen')\r\n      .attr('transform','rotate(90) translate(0,-100)');\r\n\r\n    let curve = function(d) {\r\n      return \"M\" + d.y + \",\" + d.x\r\n              + \"L\" + (d.parent.y) + \",\" + d.x\r\n              + \" \" + d.parent.y + \",\" + d.parent.x;\r\n      } \r\n\r\n    let nodeData = this.nodeData;\r\n    let leaves = [];\r\n\r\n    for (const node of nodeData){\r\n      if(node.data.children.length===0){\r\n        const id = parseInt(node.data.name.slice(1));\r\n        let tmp = Object.assign({}, node);\r\n        tmp.allV=this.props.allSenHist[id].allV;\r\n        tmp.partV = 0;\r\n        leaves.push(tmp);\r\n      }\r\n    }\r\n\r\n    this.leaves = leaves;\r\n\r\n    // Add the links between nodes:\r\n    this.links = senDen.selectAll('path')\r\n      .data( nodeData )\r\n      .enter()\r\n      .append('path')\r\n      .attr(\"d\", curve)\r\n      .style(\"fill\", 'none')\r\n      .attr(\"stroke\", '#ccc')\r\n      .style('visibility', (d)=>{\r\n        return d.depth<=this.state.currentDepth?'visible':'hidden';\r\n      })\r\n\r\n    // Add a circle for each node.\r\n    function hiC(root,color){\r\n      root = d3.select('#'+root);\r\n      const children = root.data()[0].data.children;\r\n      root.style('fill',color);\r\n      if(children.length>0){\r\n        hiC('n'+children[0].name,color);\r\n        hiC('n'+children[1].name,color);\r\n      }\r\n    };\r\n    \r\n    this.nodes = senDen.selectAll(\"g\")\r\n        .data( nodeData )\r\n        .enter()\r\n        .append(\"g\")\r\n        .attr(\"transform\", function(d) {\r\n            return \"translate(\" + d.y + \",\" + d.x + \")\"\r\n        })\r\n        .append(\"circle\")\r\n        .attr(\"r\", 0.7)\r\n        .style(\"fill\", \"#69b3a2\")\r\n        .style('stroke',(d,i)=>{\r\n          return 'black';\r\n        })\r\n        .style('stroke-width',(d,i)=>{\r\n          return '0.2px';\r\n        })\r\n        .attr('id',(d,i)=>{\r\n          return 'n'+d.data.name;\r\n        })\r\n        .style('visibility', (d)=>{\r\n          return d.depth<=this.state.currentDepth?'visible':'hidden';\r\n        })\r\n        .on('mouseover',function(d,i){\r\n          const over = d.data.name.split('-');\r\n          for (const p of over){\r\n            d3.selectAll(`rect.${p}`)\r\n              .style('fill','yellow')\r\n          }\r\n          hiC('n'+d.data.name,'yellow');\r\n        })\r\n        .on('mouseout',function(d,i){\r\n          const over = d.data.name.split('-');\r\n          for (const p of over){\r\n            d3.selectAll(`rect.${p}#all`)\r\n            .style('fill',allColor);\r\n            d3.selectAll(`rect.${p}#partial`)\r\n            .style('fill',partColor);\r\n          }\r\n          hiC('n'+d.data.name,\"#69b3a2\");\r\n        });\r\n\r\n    bar_svg.selectAll(\"#bg\")\r\n      .data(leaves.slice(0).sort((a,b)=>{return a.x-b.x}))\r\n      .enter().append(\"rect\")\r\n      .attr(\"id\", \"bg\")\r\n      .attr(\"transform\", function(d, i) { return \"translate(\" + (margin_left+bar_w*i) + \",\"+sE+\")\"; } )\r\n      .style('fill',function(d,i){\r\n        return (i%2===1)?'white':'#E5E7E9';\r\n      })\r\n      .attr(\"width\", bar_w)\r\n      .attr(\"height\", bar_h*2);\r\n\r\n    bar_svg.append('g').selectAll('text')\r\n      .data(this.props.paraName)\r\n      .enter()\r\n      .append('text')\r\n      .text(d=>d)\r\n      .style('font-size','2.2px')\r\n      .attr('transform','rotate(-90)')\r\n      .attr('y',(d,i)=>margin_left+i*bar_w)\r\n      .attr('x',-sE-1)\r\n      .style('text-anchor', 'end')\r\n      .style('dominant-baseline', 'hanging');\r\n    \r\n          \r\n    bar_svg.selectAll(\"#all\")\r\n      .data(this.props.allSenHist)\r\n      .enter().append(\"rect\")\r\n      .attr(\"id\", \"all\")\r\n      .attr(\"class\",(d,i)=>{return 'p'+i})\r\n      .attr(\"transform\", function(d, i) { return \"translate(\" + (margin_left+bar_w*i) + \",\" + (fE-(d.allV/max_allV)*bar_h) + \")\"; } )\r\n      .attr(\"width\", bar_w)\r\n      .attr(\"fill\", allColor)\r\n      .attr(\"height\", function(d) { return (d.allV/max_allV)*bar_h; })\r\n      .on('mouseover', (d,i)=>{\r\n        const svg = d3.select('#mychart2').select('svg');\r\n        svg.select('#senValue')\r\n          .text(`${d.allV.toFixed(2)}`);\r\n        svg.select('#P')\r\n          .text(this.props.paraName[i]);\r\n        d3.selectAll(`rect.${'p'+i}#all`)\r\n          .style('fill','yellow')\r\n      })\r\n      .on('mouseout',function(d,i){\r\n        d3.selectAll(`rect.${'p'+i}#all`)\r\n          .style('fill',allColor);\r\n        const svg = d3.select('#mychart2').select('svg');\r\n        svg.select('#senValue')\r\n          .text(``);\r\n        svg.select('#P')\r\n          .text('');\r\n      });\r\n    \r\n      \r\n    this.partial = bar_svg.selectAll(\"#partial\")\r\n      .data(this.props.allSenHist)\r\n      .enter().append(\"rect\")\r\n      .attr(\"id\", \"partial\")\r\n      .attr(\"class\",(d,i)=>{return 'p'+i})\r\n      .attr(\"transform\", function(d, i) { return \"translate(\" + (margin_left+bar_w*i) + \",\" + (seE-(d.partV/max_allV)*bar_h) + \")\"; } )\r\n      .attr(\"width\", bar_w)\r\n      .attr(\"height\", function(d) { return (d.partV/max_allV)*bar_h; })\r\n      .attr(\"fill\", partColor)\r\n      .on('mouseover', (d,i)=>{\r\n        const svg = d3.select('#mychart2').select('svg');\r\n        svg.select('#senValue')\r\n          .text(`${d.partV.toFixed(2)}`);\r\n        svg.select('#P')\r\n          .text(this.props.paraName[i]);\r\n        d3.selectAll(`rect.${'p'+i}#partial`)\r\n          .style('fill','yellow')\r\n      })\r\n      .on('mouseout',function(d,i){\r\n        d3.selectAll(`rect.${'p'+i}#partial`)\r\n          .style('fill',partColor);\r\n        \r\n        const svg = d3.select('#mychart2').select('svg');\r\n        svg.select('#senValue')\r\n          .text(``);\r\n        svg.select('#P')\r\n          .text('');\r\n      });\r\n\r\n  }\r\n  \r\n  componentDidUpdate(){\r\n    let margin_left = this.margin_left\r\n    let margin_bottom = this.margin_bottom\r\n    let bar_h = this.bar_h;\r\n    let bar_w = (100-margin_left)/35;\r\n    const sE = 112-2*this.bar_h-margin_bottom;\r\n    const max_allV = this.max_allV;\r\n    const fE = sE+this.bar_h;\r\n    const seE = fE+this.bar_h;\r\n\r\n    for (let node of this.leaves){\r\n      const id = parseInt(node.data.name.slice(1));\r\n      node.partV=this.props.allSenHist[id].partV;\r\n    }\r\n    \r\n\t\tthis.partial\r\n      .data(this.props.allSenHist)\r\n      .transition().duration(750)\r\n      .attr(\"transform\", function(d, i) { \r\n        return \"translate(\" + (margin_left+bar_w*i) + \",\" + (seE-(d.partV/max_allV)*bar_h) + \")\"; } )\r\n      .attr(\"width\", bar_w)\r\n      .attr(\"height\", function(d) { return (d.partV/max_allV)*bar_h; })\r\n\r\n    // Update node and link\r\n    this.nodes.style('visibility', (d)=>{\r\n        return d.depth<=this.state.currentDepth?'visible':'hidden';\r\n      })\r\n    this.links.style('visibility', (d)=>{\r\n          return d.depth<=this.state.currentDepth?'visible':'hidden';\r\n        })\r\n  }\r\n  render() {\r\n    let marks = {};\r\n    for (let i=1;i<=this.state.maxDepth;i++){\r\n      marks[i]={\r\n        label:i,\r\n      }\r\n    }\r\n    return (\r\n      <div>\r\n        <p style={{textAlign:'center'}} className='title'>Parameter Clustering</p>\r\n        <p style={{float:\"left\"}}>Depth:</p>\r\n        <Slider \r\n          style={{\r\n            width: '40%',\r\n            float: 'left',\r\n            marginTop: '0.2vw',\r\n            marginLeft: '0.6vw',\r\n          }}\r\n          min={1}\r\n          max={this.state.maxDepth}\r\n          defaultValue={this.state.currentDepth}\r\n          onChange={(value)=>{\r\n            this.setState({currentDepth:value});\r\n          }}\r\n          step={1}\r\n          marks= {marks}\r\n        />\r\n        <div className = \"barChart\" id = \"bar\">\r\n          <svg style={{width:\"95%\",position:'relative',top:'1vw'}}></svg>\r\n        </div>\r\n      </div>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nexport default BarChart;\r\n","import React, { Component } from 'react';\r\nimport Slider from 'rc-slider';\r\nimport Tooltip from 'rc-tooltip';\r\nimport ReactTable from \"react-table\";\r\n\r\nconst Handle = Slider.Handle;\r\nconst handle = (props) => {\r\n    const { value, dragging, index, ...restProps } = props;\r\n    return (\r\n      <Tooltip\r\n        prefixCls=\"rc-slider-tooltip\"\r\n        overlay={value}\r\n        visible={dragging}\r\n        placement=\"top\"\r\n      >\r\n        <Handle value={value} {...restProps} />\r\n      </Tooltip>\r\n    );\r\n  };\r\n\r\nexport default class Parameters extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={};\r\n        let para = [];\r\n        let paraS = [];\r\n        for (let i=0;i<35;i++){\r\n            para.push('0');\r\n            paraS.push(0);\r\n        }\r\n        this.state.para = para;  //string\r\n        this.state.paraS = paraS; //number\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleSliderChange = this.handleSliderChange.bind(this);\r\n        this.state.data = []; //hold p0-p34 and preData\r\n    }\r\n\r\n    handleInputChange(event){\r\n        const id = event.target.id;\r\n        const value = event.target.value;\r\n        let new_para = this.state.para.slice(0);\r\n        let new_paraS = this.state.paraS.slice(0);\r\n        new_para[id]= value;\r\n        new_paraS[id]= parseFloat(value);\r\n        this.setState({para: new_para, paraS: new_paraS});\r\n    }\r\n\r\n    handleSliderChange(value,obj){\r\n        const id = obj.index;\r\n        let new_para = this.state.para.slice(0);\r\n        let new_paraS = this.state.paraS.slice(0);\r\n        new_paraS[id]= parseFloat(value);\r\n        new_para[id]= \"\"+value;\r\n        this.setState({para: new_para, paraS: new_paraS});\r\n    }\r\n\r\n    handleRunClick(){\r\n        this.p={};\r\n        for (let i in this.state.paraS){\r\n            this.p['p'+i]=this.state.paraS[i];\r\n        }\r\n        this.props.run('http://127.0.0.1:5000/prev',this.p);\r\n    }\r\n\r\n    handleSaveClick(){\r\n        // if (this.p){\r\n            // if run is ever clicked\r\n            // this.p.data = this.props.previewData;\r\n            let new_data = this.state.data.slice(0);\r\n            this.p={};\r\n            for (let i in this.state.paraS){\r\n                this.p['p'+i]=this.state.paraS[i];\r\n            }\r\n            new_data.push(this.p);\r\n            this.setState({data:new_data});\r\n        // }\r\n    }\r\n\r\n    download(filename, text) {\r\n        var element = document.createElement('a');\r\n        element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\r\n        element.setAttribute('download', filename);\r\n    \r\n        element.style.display = 'none';\r\n        document.body.appendChild(element);\r\n    \r\n        element.click();\r\n    \r\n        document.body.removeChild(element);\r\n    }\r\n\r\n    handleExportClick() {\r\n        let exp = []\r\n        let row = {}\r\n        for (const r of this.state.data){\r\n            let i = 0\r\n            for (let key in r){\r\n                row[this.props.paraName[i]]=r[key]\r\n                i++\r\n            }\r\n            exp.push(row)\r\n            row = {}\r\n        }\r\n        this.download('test',JSON.stringify(exp));\r\n    }\r\n    handleImportClick() {\r\n        var fileInput = document.getElementById('fileInput');\r\n        let file = fileInput.files[0];\r\n\r\n        let reader = new FileReader();\r\n\r\n        reader.onload = (e) => {\r\n            let data = JSON.parse(reader.result);\r\n            this.setState({data:data});\r\n        }\r\n        reader.readAsText(file);\r\n    }\r\n    handleChangeClick(tar){\r\n        let new_para = this.state.para.slice(0);\r\n        let new_paraS = this.state.paraS.slice(0);\r\n        for (const i in this.props.marks){\r\n            let sl = this.props.marks[i];\r\n            for (const mark in sl){\r\n                if (sl[mark].name===tar){\r\n                    new_para[i]= mark.toString();\r\n                    new_paraS[i]= parseFloat(mark);\r\n                }\r\n            }\r\n        }\r\n        this.setState({para: new_para, paraS: new_paraS});\r\n    }\r\n\r\n    render(){\r\n        let sliders = [];\r\n        for (let i=0;i<35;i++){\r\n            let hsC = this.handleSliderChange;\r\n            sliders.push(\r\n                <div key ={i} className='slider'>\r\n                    <div className='sliderText'>\r\n                        <span>{`${this.props.paraName[i]}: `}</span>\r\n                        <input id={i} className='paraBox' type=\"text\" value={this.state.para[i]} onChange={this.handleInputChange} ></input>\r\n                    </div>\r\n                    <div className='sliderBody'>\r\n                        <Slider \r\n                            vertical={false} \r\n                            min={-1}\r\n                            max={1}\r\n                            index={i}\r\n                            defaultValue={0}\r\n                            value={this.state.paraS[i]}\r\n                            onChange={function(value){hsC(value,this)}}\r\n                            trackStyle={{\r\n                                backgroundColor: '#e9e9e9',\r\n                            }}\r\n                            step={0.005}\r\n                            handle={handle}\r\n                            handleStyle={{\r\n                                borderColor: '#4d4d4d',\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <div className='sliderBody'>\r\n                        <Slider \r\n                            vertical={false}\r\n                            min={-1}\r\n                            max={1}\r\n                            index={i}\r\n                            defaultValue={0}\r\n                            value={this.state.paraS[i]}\r\n                            onChange={function(value){hsC(value,this)}}\r\n                            trackStyle={{\r\n                                backgroundColor: '#e9e9e9',\r\n                            }}\r\n                            marks={this.props.marks[i]}\r\n                            step={0.005}\r\n                            handleStyle={{\r\n                                visibility: 'hidden',\r\n                            }}\r\n                            dotStyle={{\r\n                                borderColor: '#4d4d4d',\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                );\r\n        }\r\n        \r\n        \r\n        let columns = [];\r\n        // const width = $(window).width()*0.78/35;\r\n        for (let i =0 ;i<35;i++){\r\n            const temp = {\r\n                Header: this.props.paraName[i],\r\n                accessor: `p${i}`,\r\n                // width: width,\r\n            }\r\n            columns.push(temp);\r\n        }\r\n        \r\n        return (\r\n            <div>\r\n                <div className='block' style={{height:'35.10vw', width:'70.9vw'}}>\r\n                    <div id='paraTitle' className='title'>Parameter Control Board</div>\r\n                    <div id = 'parameters' >\r\n                        {sliders}\r\n                    </div>\r\n                    <div id='controls'>\r\n                        <button className=\"btn btn-primary btn-sm\" onClick={()=>this.handleRunClick()} >Run</button>\r\n                        <button className=\"btn btn-primary btn-sm\" onClick={()=>this.handleSaveClick()} >Save</button>\r\n                        <button className=\"btn btn-primary btn-sm\" onClick={()=>this.handleExportClick()} >Export</button>\r\n                        <button className=\"btn btn-primary btn-sm\" onClick={()=>this.handleChangeClick('Cur')} style={{backgroundColor: '#4d4d4d',}}>Current</button>\r\n                        <button className=\"btn btn-primary btn-sm\" onClick={()=>this.handleChangeClick('Max')} style={{backgroundColor: '#ff1a1a',}}>Maximize</button>\r\n                        <button className=\"btn btn-primary btn-sm\" onClick={()=>this.handleChangeClick('Min')} style={{backgroundColor: 'dodgerblue',}}>Minimize</button>\r\n                        <button className=\"btn btn-primary btn-sm\" onClick={()=>this.handleChangeClick('Com')} style={{backgroundColor: '#0c4',}}>MaxMin</button>\r\n                        {/* <label className=\"btn btn-primary btn-sm\">\r\n                            Import <input type=\"file\" id=\"fileInput\" onChange={()=>this.handleImportClick()} />\r\n                        </label> */}\r\n                    </div>\r\n                </div>\r\n                <ReactTable\r\n                    data={this.state.data}\r\n                    columns={columns}\r\n                    defaultPageSize={5}\r\n                    getTdProps={(state, rowInfo, column, instance) => {\r\n                        return {\r\n                        onClick: (e, handleOriginal) => {\r\n                                if (rowInfo){\r\n                                    let d = this.state.data[rowInfo.index];\r\n                                    console.log(d);\r\n                                    // this.props.tableClick(d.data);\r\n                                    let para=[];\r\n                                    let paraS = [];\r\n                                    for (let i =0 ;i<35;i++){\r\n                                        paraS.push(d['p'+i]);\r\n                                        para.push(d['p'+i].toString());\r\n                                    }\r\n                                    this.setState({para: para, paraS: paraS});\r\n                                }\r\n                    \r\n                                // IMPORTANT! React-Table uses onClick internally to trigger\r\n                                // events like expanding SubComponents and pivots.\r\n                                // By default a custom 'onClick' handler will override this functionality.\r\n                                // If you want to fire the original onClick handler, call the\r\n                                // 'handleOriginal' function.\r\n                                if (handleOriginal) handleOriginal();\r\n                                return false;\r\n                            }\r\n                        };\r\n                    }}\r\n                />\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport colorbrewer from 'colorbrewer';\r\nimport ToggleButton from 'react-toggle-button';\r\n// #4d4d4d grey \r\n// dodgerblue blue #cceaff\r\n// #0c4 green #ccffdd\r\n// #ff1a1a red #ffcccc\r\n\r\nexport default class Preview extends Component {\r\n    constructor(props){\r\n      super(props);\r\n      let colors = colorbrewer['RdYlBu'][11];\r\n      colors = colors.slice(0).reverse();\r\n      let dom = [];\r\n      for (let i = 0; i < 11; i += 1) {\r\n        dom.push(i * 400 / 10);\r\n      }\r\n      let colorScale = d3.scaleLinear().domain(dom).range(colors);\r\n      colorScale.scale = 'Full';\r\n      colorScale.palette = 'RdYlBu'\r\n      let cDiff = colorbrewer['RdGy'][11];\r\n      cDiff = cDiff.slice(0).reverse();\r\n      let diffColor = d3.scaleLinear().range(cDiff)\r\n      diffColor.scale = 'Context';\r\n      diffColor.palette = 'RdGy'\r\n      this.state={\r\n        diff : false,\r\n        preColor: colorScale,\r\n        diffColor: diffColor,\r\n      }\r\n  \r\n      // prepare radial axes data\r\n      const valueLen = this.props.valueLen;\r\n\r\n      const dummy_data = d3.range(0, 2 * Math.PI, 2 * Math.PI/valueLen); \r\n      let my_points = [];\r\n      for (let i = 0; i < valueLen; i += 1) {\r\n        var angle = dummy_data[i];\r\n        var protein_value = 0;\r\n        var std = 0;\r\n        let tmp = {\r\n          'angle': angle,\r\n          'std': std,\r\n          'value': protein_value\r\n        };\r\n        my_points.push(tmp);\r\n      }\r\n      my_points.push(my_points[0]);\r\n      this.my_points = my_points;\r\n  \r\n      // prepare generator\r\n      const radius = this.props.radius;\r\n      this.radialAreaGenerator1 = d3.radialArea()\r\n        .curve(d3.curveCardinalClosed)\r\n        .angle(function (d) {\r\n          return d.angle;\r\n        })\r\n        .innerRadius(function (d) {\r\n          let value = radius - 0.5 * d.std;\r\n          return value;\r\n        })\r\n        .outerRadius(function (d) {\r\n          let value = radius + 0.5 * d.std;\r\n          return value;\r\n        });\r\n\r\n      this.radialAreaGenerator2 = d3.radialArea()\r\n        .curve(d3.curveCardinalClosed)\r\n        .angle(function (d) {\r\n          return d.angle;\r\n        })\r\n        .innerRadius(function (d) {\r\n          let v = radius - d.std;\r\n          return v\r\n        })\r\n        .outerRadius(function (d) {\r\n          let v = radius + d.std;\r\n          return v\r\n        });\r\n  \r\n    }\r\n\r\n    componentDidUpdate(){\r\n      let colorScale;\r\n      if (this.state.diff) colorScale = this.state.diffColor\r\n      else colorScale = this.state.preColor\r\n      let gradientData = [];\r\n      for (let i=0;i<11;i++){\r\n        let tmp ={};\r\n        tmp.offset = (i*10)+'%';\r\n        tmp.color = colorScale.range()[i];\r\n        gradientData.push(tmp);\r\n      }\r\n      d3.select(this.state.diff?'#preGradientDiff':\"#preGradient\")\r\n          .selectAll(\"stop\")\r\n          .data(gradientData)\r\n          .attr(\"offset\", function(d) { return d.offset; })\r\n          .attr(\"stop-color\", function(d) { return d.color; });\r\n      this.legendSvg.select('rect')\r\n        .style('fill',this.state.diff?'url(#preGradientDiff)':'url(#preGradient)')\r\n      if (!this.props.previewData){\r\n        // draw color map without scale\r\n        this.legendSvg.select('.legend')\r\n          .style('visibility','hidden')\r\n      }\r\n      else{\r\n        this.legendSvg.select('.legend')\r\n          .style('visibility','visible')\r\n        // calculate the value scale\r\n        this.minValue = Math.min(...this.props.previewData.curve_mean);\r\n        this.maxValue = Math.max(...this.props.previewData.curve_mean);\r\n\r\n        const data = this.props.previewData;\r\n        const valueLen = this.props.valueLen;\r\n        const ori = this.props.data;\r\n        const dummy_data = d3.range(0, 2 * Math.PI, 2 * Math.PI/valueLen); \r\n        const uncertainty_scale = 1; //to keep uncertainty bands in scale\r\n        let my_points = [];\r\n        let legD=[];\r\n        let textD = [];\r\n        \r\n        // normal\r\n        if(!this.state.diff){\r\n          let max_std=-Infinity;\r\n          for (let i = 0; i < valueLen; i += 1) {\r\n            var angle = dummy_data[i];\r\n            var protein_value = data.curve_mean[i];\r\n            var std = data.curve_std[((i + valueLen/2) % valueLen)] / uncertainty_scale;\r\n            if (std>max_std) max_std = std\r\n            let tmp = {\r\n              'angle': angle,\r\n              'std': std,\r\n              'value': protein_value\r\n            };\r\n            my_points.push(tmp);\r\n          }\r\n          let factor = max_std/19.28; // scale to the max value\r\n          for (let i = 0; i < valueLen; i += 1){\r\n            my_points[i].std /=factor\r\n          }\r\n          my_points.push(my_points[0]);\r\n          this.my_points = my_points;\r\n          // calculate domain\r\n          let minValue,maxValue\r\n          if (colorScale.scale === 'Full') {minValue =0;maxValue=400}\r\n          else {minValue = this.minValue;maxValue=this.maxValue}\r\n          legD = []\r\n          for (let i = 0; i < 11; i++) {\r\n            legD.push(minValue + i * (maxValue - minValue) / 10)\r\n          }\r\n          for (let i = 0; i < 5; i++) {\r\n            textD.push(minValue + i * (maxValue - minValue) / 4)\r\n          }\r\n          colorScale.domain(legD);\r\n          //draw the std2\r\n          let pathData2 = this.radialAreaGenerator2(this.my_points);\r\n    \r\n          d3.select(\"#previewChart\")\r\n            .select('path.std2')\r\n            .attr('d', pathData2)\r\n            .style('visibility','visible');\r\n      \r\n          // draw the std1\r\n          let pathData1 = this.radialAreaGenerator1(this.my_points);\r\n      \r\n          d3.select(\"#previewChart\")\r\n            .select('path.std1')\r\n            .attr('d', pathData1)\r\n            .style('visibility','visible');\r\n        }\r\n        // showing diff\r\n        else {\r\n          let minValue = Infinity;\r\n          let maxValue = -Infinity;\r\n          for (let i = 0; i < valueLen; i += 1) {\r\n            let angle = dummy_data[i];\r\n            let protein_value = data.curve_mean[i]-ori.curve_mean[i];\r\n            if (protein_value>maxValue) maxValue = protein_value;\r\n            if (protein_value<minValue) minValue = protein_value;\r\n            let std = data.curve_std[((i + valueLen/2) % valueLen)] / uncertainty_scale;\r\n            let tmp = {\r\n              'angle': angle,\r\n              'std': std,\r\n              'value': protein_value\r\n            };\r\n            my_points.push(tmp);\r\n          }\r\n          my_points.push(my_points[0]);\r\n          this.my_points = my_points;\r\n          legD = []\r\n          for (let i = 0; i < 11; i++) {\r\n            legD.push(minValue + i * (maxValue - minValue) / 10)\r\n          }\r\n          for (let i = 0; i < 5; i++) {\r\n            textD.push(minValue + i * (maxValue - minValue) / 4)\r\n          }\r\n          colorScale.domain(legD);\r\n          // hide stds\r\n          d3.select(\"#previewChart\")\r\n            .select('path.std2')\r\n            .style('visibility','hidden');\r\n          d3.select(\"#previewChart\")\r\n            .select('path.std1')\r\n            .style('visibility','hidden');\r\n\r\n        }\r\n\r\n        // change legend text\r\n        this.legend.data(textD);\r\n        this.legend.select(\"text\")\r\n            .text(function (d) {\r\n              return d.toFixed(0);\r\n            })\r\n    \r\n        // draw the value (marker)\r\n        var protein_markers = d3.select(\"#previewChart\")\r\n          .select(\"g.protein_markers\");\r\n        var sel = protein_markers.selectAll(\"path\").data(my_points);\r\n        sel.attr(\"fill\", (d, i)=>{\r\n            return colorScale(d.value)\r\n          })\r\n      }\r\n    }\r\n    \r\n    componentDidMount() {\r\n        const width = this.props.size;\r\n        const radius = this.props.radius;\r\n    \r\n        // create svg\r\n        d3.select(\"#previewChart\").select(\"svg.main\")\r\n          .attr(\"viewBox\", `-${width/2} -${width/2} ${width} ${width}`);\r\n    \r\n        // draw radial axes\r\n        this.draw_radial_axes();\r\n    \r\n        //draw the std2\r\n        var pathData2 = this.radialAreaGenerator2(this.my_points);\r\n    \r\n        d3.select(\"#previewChart\").select(\"svg.main\")\r\n          .append(\"g\")\r\n          .append('path')\r\n          .attr(\"class\", \"std2\")\r\n          .attr('d', pathData2);\r\n    \r\n        // draw the std1\r\n        var pathData1 = this.radialAreaGenerator1(this.my_points);\r\n    \r\n        d3.select(\"#previewChart\").select(\"svg.main\")\r\n          .append(\"g\")\r\n          .append('path')\r\n          .attr(\"class\", \"std1\")\r\n          .attr('d', pathData1);\r\n    \r\n        // draw the value (marker)\r\n        var protein_markers = d3.select(\"#previewChart\").select(\"svg.main\")\r\n          .append(\"g\").attr(\"class\", \"protein_markers\");\r\n    \r\n        var sel = protein_markers.selectAll(\"path\").data(this.my_points)\r\n        sel.enter()\r\n          .append(\"path\")\r\n          .attr(\"d\", d3.arc().innerRadius(radius-2).outerRadius(radius+2).startAngle((d)=>d.angle + Math.PI-Math.PI/400).endAngle((d)=>d.angle + Math.PI+Math.PI/400))\r\n          .attr(\"fill\", 'grey')\r\n          .attr(\"stroke\", \"black\")\r\n          .attr(\"stroke-width\", 0.15)\r\n          .style(\"opacity\", 0.9);\r\n\r\n        const legendSvg = d3.select(\"#previewChart\").select(\"svg.legend\");\r\n        this.legendSvg = legendSvg;\r\n        let legD = [];\r\n        for (let i = 0; i < 11; i++) {\r\n          legD.push(i * 400 / 10)\r\n        }\r\n        let gradientDataDiff = [];\r\n        for (let i=0;i<11;i++){\r\n          let tmp ={};\r\n          tmp.offset = (i*10)+'%';\r\n          tmp.color = this.state.diffColor.range()[i];\r\n          gradientDataDiff.push(tmp);\r\n        }\r\n        legendSvg.append(\"linearGradient\")\r\n          .attr(\"id\", \"preGradientDiff\")\r\n          .attr(\"x1\", \"0%\")\r\n          .attr(\"x2\", \"100%\")\r\n          .attr(\"y1\", \"0%\")\r\n          .attr(\"y2\", \"0%\")\r\n          .selectAll(\"stop\")\r\n          .data(gradientDataDiff)\r\n          .enter().append(\"stop\")\r\n          .attr(\"offset\", function(d) { return d.offset; })\r\n          .attr(\"stop-color\", function(d) { return d.color; });\r\n    \r\n        legendSvg.attr(\"viewBox\", `0 0 100 22`)\r\n          .style('width','100%')\r\n\r\n        let textD = [];\r\n        for (let i = 0; i < 5; i++) {\r\n          textD.push(i * 400 / 4)\r\n        }\r\n        var legend = legendSvg.append(\"g\")\r\n          .attr(\"class\", \"legend\")\r\n          .style('visibility','hidden')\r\n          .selectAll(\".legendElement\")\r\n          .data(textD)\r\n          .enter().append(\"g\")\r\n          .attr(\"class\", \"legendElement\");\r\n    \r\n        this.legend = legend;\r\n    \r\n        const legendElementWidth = 60 / 4;\r\n        const cellSize = 5;\r\n    \r\n        let gradientData = [];\r\n        for (let i=0;i<11;i++){\r\n          let tmp ={};\r\n          tmp.offset = (i*10)+'%';\r\n          tmp.color = this.state.preColor.range()[i];\r\n          gradientData.push(tmp);\r\n        }\r\n        legendSvg.append(\"linearGradient\")\r\n          .attr(\"id\", \"preGradient\")\r\n          .attr(\"x1\", \"0%\")\r\n          .attr(\"x2\", \"100%\")\r\n          .attr(\"y1\", \"0%\")\r\n          .attr(\"y2\", \"0%\")\r\n          .selectAll(\"stop\")\r\n          .data(gradientData)\r\n          .enter().append(\"stop\")\r\n          .attr(\"offset\", function(d) { return d.offset; })\r\n          .attr(\"stop-color\", function(d) { return d.color; });\r\n\r\n        legendSvg.append(\"rect\")\r\n          .attr(\"x\", 20)\r\n          .attr(\"y\", 5)\r\n          .attr(\"class\", \"cellLegend bordered\")\r\n          .attr(\"width\", 60)\r\n          .attr(\"height\", cellSize)\r\n          .style(\"fill\", \"url(#preGradient)\");\r\n    \r\n        legend.append(\"text\")\r\n          .attr(\"class\", \"mono legendElement\")\r\n          .text(function (d) {\r\n            return d.toFixed(0);\r\n          })\r\n          .style('font-size', '0.12vw')\r\n          .attr(\"x\", function (d, i) {\r\n            return 20 + legendElementWidth * i;\r\n          })\r\n          .attr(\"y\", 5 + cellSize +1)\r\n          .style('text-anchor', 'middle')\r\n          .style('dominant-baseline', 'hanging');\r\n        \r\n        // change colormap\r\n        const changePalette = paletteName => {\r\n          let curScale = this.state.diff?'diffColor':'preColor'\r\n          const classesNumber = 11;\r\n          var colors;\r\n          if(paletteName===\"seqGreen\" || paletteName===\"seqOrange\" || paletteName===\"seqPurple\"){\r\n            switch(paletteName){\r\n              case \"seqGreen\":\r\n                colors = colorbrewer[\"PRGn\"][classesNumber];\r\n                colors = colors.slice(0);\r\n                break;\r\n              case \"seqOrange\":\r\n                colors = colorbrewer[\"PuOr\"][classesNumber];\r\n                colors = colors.slice(0).reverse();\r\n                break;\r\n              case \"seqPurple\":\r\n                colors = colorbrewer[\"PRGn\"][classesNumber];\r\n                colors = colors.slice(0).reverse();\r\n                break;\r\n              default:\r\n                break;\r\n            }\r\n            colors = colors.slice(5);\r\n            for (let i =0 ;i<10;i+=2){\r\n              colors.splice(i+1,0,d3.interpolateRgb(colors[i],colors[i+1])(0.5));\r\n            }\r\n          }else{\r\n            colors = colorbrewer[paletteName][classesNumber];\r\n            colors = colors.slice(0).reverse();\r\n          }\r\n          let scale = d3.scaleLinear().domain(this.state[curScale].domain())\r\n          scale.range(colors);\r\n          scale.palette = paletteName\r\n          let tmp = {}\r\n          tmp[curScale] = scale\r\n          this.setState(tmp)\r\n        };\r\n\r\n        d3.select(\"#preColorMap\")\r\n          .on(\"keyup\", function () {\r\n            var newPalette = d3.select(\"#preColorMap\").property(\"value\");\r\n            if (newPalette != null) // when interfaced with jQwidget, the ComboBox handles keyup event but value is then not available ?\r\n              changePalette(newPalette);\r\n          })\r\n          .on(\"change\", function () {\r\n            var newPalette = d3.select(\"#preColorMap\").property(\"value\");\r\n            changePalette(newPalette);\r\n          });\r\n\r\n        const changeScale = scale => {\r\n          let scaleType = this.state.diff?'diffColor':'preColor'\r\n          let tmp =d3.scaleLinear().range(this.state[scaleType].range())\r\n          tmp.domain(this.state[scaleType].domain())\r\n          tmp.scale =  scale\r\n          this.setState({preColor:tmp})\r\n        };\r\n      \r\n        d3.select(\"#preColorScale\")\r\n          .on(\"keyup\", function () {\r\n            var newScale = d3.select(\"#preColorScale\").property(\"value\");\r\n            if (newScale != null) // when interfaced with jQwidget, the ComboBox handles keyup event but value is then not available ?\r\n              changeScale(newScale);\r\n          })\r\n          .on(\"change\", function () {\r\n            var newScale = d3.select(\"#preColorScale\").property(\"value\");\r\n            changeScale(newScale);\r\n          });\r\n    }\r\n    \r\n    draw_radial_axes() {\r\n        const radius = this.props.radius;\r\n        var r = d3.scaleLinear()\r\n          .domain([0, .5])\r\n          .range([0, radius]);\r\n    \r\n        var svg = d3.select(\"#previewChart\").select('svg.main');\r\n        var gr = svg.append(\"g\")\r\n          .attr(\"class\", \"r axis\")\r\n          .selectAll(\"g\")\r\n          .data(r.ticks(10).slice(1))\r\n          .enter().append(\"g\")\r\n    \r\n        gr.append(\"circle\")\r\n          .attr(\"r\", r);\r\n    \r\n        var ga = svg.append(\"g\")\r\n          .attr(\"class\", \"a axis\")\r\n          .selectAll(\"g\")\r\n          .data(d3.range(0, 360, 30))\r\n          .enter()\r\n          .append(\"g\")\r\n          .append(\"g\")\r\n          .attr(\"transform\", function (d) {\r\n            return \"rotate(\" + (d + 90) + \")\";\r\n          });\r\n    \r\n        ga.append(\"line\")\r\n          .attr(\"x2\", radius + 30);\r\n    \r\n        ga.append(\"text\")\r\n          .attr(\"x\", radius + 20)\r\n          .attr(\"y\", -6)\r\n          .attr(\"dy\", \".20em\")\r\n          .style(\"text-anchor\", function (d) {\r\n            return d < 180 && d > 0 ? \"end\" : null;\r\n          })\r\n          .attr(\"transform\", function (d) {\r\n            return d < 180 && d > 0 ? \"rotate(180 \" + (radius + 20) + \",-8)\" : null;\r\n          })\r\n          .text(function (d) {\r\n            return d + \"\";\r\n          });\r\n    }\r\n\r\n    render() {\r\n        let scale = this.state.diff?this.state.diffColor:this.state.preColor\r\n        let p = scale.palette\r\n        let s = scale.scale\r\n        return ( \r\n          <div className = \"block\" id = \"previewChart\">\r\n              <div style = {{height:'2vw'}}>\r\n                <p style={{position: 'relative',left: '40%',float:'left'}} className='title'>Quickview</p>\r\n                <div style={{position: 'relative',left: '17vw',top:'0.25vw',float:'left',fontSize:'0.8vw'}}>\r\n                  <ToggleButton\r\n                    inactiveLabel={\"Cdc\"}\r\n                    activeLabel={'Diff'}\r\n                    value={this.state.diff}\r\n                    onToggle={(value) => {\r\n                      this.setState({\r\n                        diff: !value,\r\n                      })\r\n                    }} />\r\n                </div>\r\n              </div>\r\n              <svg className='main'></svg>\r\n              <div style={{fontSize:'0.8vw',textAlign:'center'}}>\r\n                Palette:&nbsp;\r\n                <select id=\"preColorMap\" value = {p} readOnly>\r\n                  <option value=\"RdYlGn\">RdYlGn</option>\r\n                  <option value=\"Spectral\">Spectral</option>\r\n                  <option value=\"RdYlBu\">RdYlBu</option>\r\n                  <option value=\"RdGy\">RdGy</option>\r\n                  <option value=\"RdBu\">RdBu</option>\r\n                  <option value=\"PiYG\">PiYG</option>\r\n                  <option value=\"PRGn\">PRGn</option>\r\n                  <option value=\"BrBG\">BrBG</option>\r\n                  <option value=\"PuOr\">PuOr</option>\r\n                  <option value=\"seqPurple\">seqPurple</option>\r\n                  <option value=\"seqGreen\">seqGreen</option>\r\n                  <option value=\"seqOrange\">seqOrange</option>\r\n                </select>\r\n                &emsp;Scale:&nbsp;\r\n                <select id=\"preColorScale\" value = {s} readOnly>\r\n                  <option value=\"Context\">Context</option>\r\n                  {this.state.diff?null:<option value=\"Full\">Full</option>}\r\n                </select>\r\n              </div>\r\n              <svg className='legend'></svg>\r\n          </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Parameter from './Parameter';\r\nimport Preview from './Preview';\r\n\r\nexport default class InputCharts extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={};\r\n    }\r\n    handleTableClick(data){\r\n        console.log(data);\r\n        this.setState({previewData:data});\r\n    }\r\n    render(){\r\n        return (\r\n            <div>\r\n                <Preview \r\n                    previewData = {this.state.previewData?this.state.previewData:this.props.previewData}\r\n                    radius={150} \r\n                    size={400} \r\n                    preColor = {this.props.preColor}\r\n                    valueLen={400}\r\n                    data = {this.props.data}\r\n                />\r\n                <Parameter \r\n                    run = {this.props.request}\r\n                    previewData = {this.props.previewData}\r\n                    tableClick = {(d)=>{this.handleTableClick(d)}}\r\n                    marks = {this.props.marks}\r\n                    paraName ={this.props.paraName}\r\n                />\r\n\t\t    </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport colorbrewer from 'colorbrewer';\r\nimport * as d3 from 'd3';\r\nimport m1_thumb from './assets/m1_128.png';\r\nimport m2_thumb from './assets/m2_128.png';\r\nimport m2 from './assets/m2.png';\r\nimport m3_thumb from './assets/m3_128.png';\r\nimport m3 from './assets/m3.png';\r\nimport m4_thumb from './assets/m4_128.png';\r\nimport m4 from './assets/m4.png';\r\nimport Slider from 'rc-slider';\r\nimport $ from 'jquery';\r\n\r\nfunction importAll(r) {\r\n    return r.keys().map(r);\r\n}\r\n\r\n\r\n\r\nclass MatrixView extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {type:undefined};\r\n        this.images = importAll(require.context('./data/weight_distribution_images/', false, /\\.(png|jpe?g|svg)$/))\r\n    }\r\n\r\n    componentDidMount(){\r\n        let mIndex = ['m1','m2','m3','m4'];\r\n        let thumbnail = d3.selectAll('.matrixChoose')\r\n            .data(mIndex)\r\n            .attr('id',d=>d);\r\n        thumbnail\r\n            .on('click',function(d,i){\r\n                let url = 'http://127.0.0.1:5000/matrix/'+d;\r\n                axios.get(url)\r\n                    .then(res=>{drawMatrix(res.data,d)});\r\n            })\r\n\r\n        let drawMatrix = (data,type)=>{\r\n            this.setState({\r\n                type:type,\r\n                data: data,\r\n            }) \r\n        }\r\n    }\r\n    componentDidUpdate(prevProps,prevState){\r\n        if(this.state.type === prevState.type) return 0\r\n        let type = this.state.type;\r\n        let data = this.state.data;\r\n        let dy,dx;\r\n        const paletteName = 'RdBu';\r\n        let colors = colorbrewer[paletteName][11];\r\n        colors = colors.slice(0).reverse();\r\n        let colorScale;\r\n        if(prevState.type==='m1') $('#mt-body-m1').remove();\r\n        if(prevState.type==='m4') $('#mt-body-m4').remove();\r\n        if (type ==='m1'){\r\n            dy = 35\r\n            dx = 1024\r\n            let max = data[0][0]\r\n            let min = data[0][0]\r\n            for (let i = 0;i<dy;i++){\r\n                for(let j=0;j<dx;j++){\r\n                    if (max<data[i][j]) max = data[i][j];\r\n                    else if (min>data[i][j]) min = data[i][j];\r\n                }\r\n            }\r\n            let dom = [];\r\n            for (let i = 0; i < 11; i += 1) {\r\n                dom.push(min + i * (max-min) / 10);\r\n            }\r\n            colorScale = d3.scaleLinear().domain(dom).range(colors);\r\n            let svgMatrix = d3.select('#mt-body')\r\n                .append('div')\r\n                .attr('id','mt-body-m1')\r\n                .append('svg')\r\n                .style('height','100%')\r\n                .style('width','100%')\r\n                .attr('preserveAspectRatio',\"none\")\r\n                .attr(\"viewBox\", `0 0 2000 900`);\r\n            const margin = 100\r\n            const width = (2000-margin)/dx\r\n            const height = (900)/dy\r\n            let sorted = [];\r\n            for (let i =0;i<dy;i++){\r\n                sorted.push(data[i].slice(0).sort((a,b)=>(a-b)));\r\n            }\r\n            svgMatrix.selectAll('.my').data(data)\r\n                .enter()\r\n                .append('g')\r\n                .attr('id',(d,i)=>{return 'y'+i})\r\n                .attr('class','my')\r\n                .each(function(d,i){\r\n                    let group = d3.select('g#y'+i).selectAll('rect')\r\n                    group.data(d)\r\n                        .enter()\r\n                        .append('rect')\r\n                        .attr('x',(d,i)=>{return margin+width*i})\r\n                        .attr('width',width)\r\n                        .attr('y',(d)=>{return height*i})\r\n                        .attr('height',height)\r\n                        .style('fill',(d)=>{return colorScale(d)})\r\n                })\r\n            let label = svgMatrix.append('g')\r\n            label.selectAll('text')\r\n                .data(this.props.paraName)\r\n                .enter()\r\n                .append('text')\r\n                .text(d=>d)\r\n                .style('text-anchor','end')\r\n                .style('dominant-baseline','hanging')\r\n                .attr('x',margin)\r\n                .attr('y',(d,i)=>height*i)\r\n            \r\n            svgMatrix.on('contextmenu',function(d,i){\r\n                d3.event.preventDefault();\r\n                if(!this.sorted){\r\n                    svgMatrix.selectAll('.my').data(sorted)\r\n                        .each((d,i)=>{\r\n                            let group = d3.select('g#y'+i).selectAll('rect')\r\n                            group.data(d)\r\n                            .style('fill',(d)=>{return colorScale(d)})\r\n                        })\r\n                    this.sorted = true;\r\n                }\r\n                else {\r\n                    svgMatrix.selectAll('.my').data(data)\r\n                        .each((d,i)=>{\r\n                            let group = d3.select('g#y'+i).selectAll('rect')\r\n                            group.data(d)\r\n                            .style('fill',(d)=>{return colorScale(d)})\r\n                        })\r\n                    this.sorted = false;\r\n                }\r\n                \r\n            })\r\n            let tooltip = d3.select('#mt-body-m1')\r\n                .append(\"div\")\r\n                .style(\"position\", \"absolute\")\r\n                .style(\"visibility\", \"hidden\");\r\n        \r\n            svgMatrix.selectAll('.my')\r\n                .on('mouseover',(d,i)=>{\r\n                    $('#svgTool').empty()\r\n                    tooltip.html(`<div class=\"heatmap_tooltip\"><img src=${this.images[i]}></div>`);\r\n                    tooltip.style(\"visibility\", \"visible\")\r\n                })\r\n                .on('mouseout',(d,i)=>{\r\n                    tooltip.style(\"visibility\", \"hidden\");\r\n                })\r\n                .on(\"mousemove\", function(d, i) {\r\n                    \r\n                    let y = d3.event.pageY;\r\n                    if(d3.event.screenY>750) y-=270;\r\n                    let x = d3.event.pageX + 20;\r\n                    tooltip.style(\"top\", y + \"px\").style(\"left\", x + \"px\");\r\n                })\r\n        }\r\n        else if (type === 'm2'){\r\n            dy = 1024\r\n            dx = 800\r\n            let max = data[0][0]\r\n            let min = data[0][0]\r\n            for (let i = 0;i<dy;i++){\r\n                for(let j=0;j<dx;j++){\r\n                    if (max<data[i][j]) max = data[i][j];\r\n                    else if (min>data[i][j]) min = data[i][j];\r\n                }\r\n            }\r\n            let dom = [];\r\n            for (let i = 0; i < 11; i += 1) {\r\n                dom.push(min + i * (max-min) / 10);\r\n            }\r\n            colorScale = d3.scaleLinear().domain(dom).range(colors);\r\n        }\r\n        else if (type === 'm3'){\r\n            dy = 800\r\n            dx = 500\r\n            let max = data[0][0]\r\n            let min = data[0][0]\r\n            for (let i = 0;i<dy;i++){\r\n                for(let j=0;j<dx;j++){\r\n                    if (max<data[i][j]) max = data[i][j];\r\n                    else if (min>data[i][j]) min = data[i][j];\r\n                }\r\n            }\r\n            let dom = [];\r\n            for (let i = 0; i < 11; i += 1) {\r\n                dom.push(min + i * (max-min) / 10);\r\n            }\r\n            colorScale = d3.scaleLinear().domain(dom).range(colors);\r\n        }\r\n        else if (type === 'm4'){\r\n            dy = 500\r\n            dx = 400\r\n            let max = data[0][0]\r\n            let min = data[0][0]\r\n            for (let i = 0;i<dy;i++){\r\n                for(let j=0;j<dx;j++){\r\n                    if (max<data[i][j]) max = data[i][j];\r\n                    else if (min>data[i][j]) min = data[i][j];\r\n                }\r\n            }\r\n            let dom = [];\r\n            for (let i = 0; i < 11; i += 1) {\r\n                dom.push(min + i * (max-min) / 10);\r\n            }\r\n            colorScale = d3.scaleLinear().domain(dom).range(colors);\r\n            d3.select('#mt-index')\r\n                .attr('viewBox','0 0 100 536')\r\n            \r\n            let scaler = d3.scaleLinear().domain([0,499]).range([0,536])     \r\n            d3.select('#mt-index').append('path')\r\n                .attr('d',`m0 ${scaler(250)} l100 0 m-100 0 l5 5 m-5 -5 l5 -5`)\r\n                .attr('stroke','black')\r\n                .style('stroke-width','1')\r\n            d3.select('#mt-index').append('text')\r\n                .text('250')\r\n                .style('text-anchor','middle')\r\n                .style('dominant-baseline','hanging')\r\n                .attr('x',50)\r\n                .attr('y',scaler(250))\r\n            let url = 'http://127.0.0.1:5000/matrix/mp';\r\n            axios.get(url)\r\n                .then(res=>{\r\n                    let svg = d3.select('#mt-sen')\r\n                        .append('svg')\r\n                        .style('height','100%')\r\n                        .style('width','100%')\r\n                        .attr('preserveAspectRatio',\"none\")\r\n                        .attr('viewBox','0 -15 456 489')\r\n                        // .attr('viewBox','0 0 456 489') // this is original one\r\n\r\n                    // expend data\r\n                    const data_height = 89;\r\n                    const data_width = 456/400;\r\n                    svg.append('g').selectAll('rect.expend')\r\n                        .data(this.state.data[250])\r\n                        .enter()\r\n                        .append('rect')\r\n                        .attr('class','expend')\r\n                        .attr('x',(d,i)=>i*data_width)\r\n                        .attr('width',data_width)\r\n                        .attr('y',400)\r\n                        .attr('height',data_height)\r\n                        .style('fill',d=>colorScale(d))\r\n\r\n                    this.sen = res.data;\r\n                    const margin_top = 30\r\n                    const margin_left = 30\r\n                    const margin_bottom = 60\r\n                    const margin_right = 5\r\n                    const width = 456-margin_left-margin_right\r\n                    const height = 400-margin_top-margin_bottom\r\n                    let x = d3.scaleLinear().domain([0,35]).range([margin_left,456-margin_right])\r\n                    let y = d3.scaleLinear().domain([0,1]).range([height,0])\r\n                    let bar_g = svg.append('g')\r\n                    bar_g.selectAll('rect.bar')\r\n                        .data(this.sen[250])\r\n                        .enter()\r\n                        .append('rect')\r\n                        .attr('class','bar')\r\n                        .attr('x',(d,i)=>x(i))\r\n                        .attr('width',width/35)\r\n                        .attr('y',d=>margin_top+y(d))\r\n                        .attr('height',d=>height-y(d))\r\n                        .style('fill','CadetBlue')\r\n                    let tmp = []\r\n                    for (let i=0.5;i<35;i++){\r\n                        tmp.push(i)\r\n                    }\r\n                    let x_axis = d3.axisBottom(x).tickValues(tmp).tickSizeOuter(0)\r\n                    bar_g.append(\"g\")\r\n                        .attr(\"transform\", \"translate(0,\" + (height + margin_top) + \")\")\r\n                        .call(x_axis)\r\n                        .selectAll('.tick')\r\n                        .select('text')\r\n                        .data(this.props.paraName)\r\n                        .text(d=>d)\r\n                        .style('text-anchor','end')\r\n                        .style('transform','rotate(-90deg) translate(-7px,-1.2em)')\r\n                    let y_axis = d3.axisLeft(y)\r\n                    bar_g.append(\"g\")\r\n                        .attr(\"transform\", `translate(${margin_left},${margin_top})`)\r\n                        .call(y_axis)\r\n                    bar_g.selectAll('.tick')\r\n                        .select('line')\r\n                        .attr('stroke','black')\r\n                        .style('stroke-width','1')\r\n                    bar_g.selectAll('.domain')\r\n                        .attr('stroke','black')\r\n                        .style('stroke-width','1')\r\n                    bar_g.append('text')\r\n                        .text('Parameter Importance')\r\n                        .style('text-anchor','middle')\r\n                        .style('dominant-baseline','hanging')\r\n                        .attr('x',456/2)\r\n                });\r\n            \r\n            d3.select('#mt-slider-div')\r\n            .select('.rc-slider-rail')\r\n            .style('width','10px')\r\n            .style('transform', 'translate(-3px,0)')\r\n        }\r\n        this.colorScale = colorScale;\r\n        // legend\r\n        let svg = d3.select('#mt-legend').select('svg')\r\n        const width = 2215/11\r\n        const height = 30\r\n        svg.selectAll('rect')\r\n            .data(colorScale.domain()).enter().append('rect')\r\n            .attr('x',(d,i)=>width*i)\r\n            .attr('y',0)\r\n            .attr('width',width)\r\n            .attr('height',height)\r\n            .style('fill',d=>colorScale(d))\r\n        svg.selectAll('text')\r\n            .data(colorScale.domain()).enter().append('text')\r\n            .attr('x',(d,i)=>width*i+width/2)\r\n            .attr('y',35)\r\n            .style('text-anchor','middle')\r\n            .style('dominant-baseline','hanging')\r\n            .text(d=>d.toFixed(1))\r\n            .style('font-size','3vw')\r\n            .style('visibility',(d,i)=>{\r\n                if (i%5===0) return 'visible'\r\n                else return 'hidden'\r\n            })\r\n        svg.selectAll('text')\r\n            .data(colorScale.domain())\r\n            .text(d=>d.toFixed(1))\r\n    }\r\n    drawBarChart(value){\r\n        value = 499-value;\r\n        let svg = d3.select('#mt-sen').select('svg')\r\n        svg.selectAll('rect.expend')\r\n            .data(this.state.data[value])\r\n            .style('fill',d=>this.colorScale(d))\r\n        const margin_top = 30\r\n        const margin_left = 30\r\n        const margin_bottom = 60\r\n        const margin_right = 5\r\n        const width = 456-margin_left-margin_right\r\n        const height = 400-margin_top-margin_bottom\r\n        let x = d3.scaleLinear().domain([0,35]).range([margin_left,456-margin_right])\r\n        let y = d3.scaleLinear().domain([0,1]).range([height,0])\r\n        svg.selectAll('rect.bar')\r\n            .data(this.sen[value])\r\n            .attr('x',(d,i)=>x(i))\r\n            .attr('width',width/35)\r\n            .attr('y',d=>margin_top+y(d))\r\n            .attr('height',d=>height-y(d))\r\n    }\r\n    moveSlider(value){\r\n        value = 499-value;\r\n        let scaler = d3.scaleLinear().domain([0,499]).range([0,536]) \r\n        d3.select('#mt-index').select('path')\r\n            .attr('d', `m 0,${scaler(value)} l 100,0 m -100,0 l 5,5 m -5,-5 l 5,-5`)\r\n        d3.select('#mt-index').select('text')\r\n            .text(value)\r\n            .attr('x',50)\r\n            .attr('y',scaler(value))\r\n        d3.select('#mt-index').select('text')\r\n            .style('dominant-baseline',()=>{return value>450?'auto':'hanging'})\r\n    }\r\n    render(){\r\n        let w1,w2,w3,w4,content=null,title=null;\r\n        const type = this.state.type;\r\n        w1 = null;\r\n        w2 = <img src={m2} alt=\"m2\" className = \"full\" />;\r\n        w3 = <img src={m3} alt=\"m2\" className = \"full\" />;\r\n        w4 =<div id = \"mt-body-m4\" >\r\n                <img src={m4} alt=\"m4\" className =\"half\"/>\r\n                <svg className='left' id ='mt-index'></svg>\r\n                <div id =\"mt-slider-div\" >\r\n                    <Slider \r\n                        vertical = {true}\r\n                        onChange = {this.moveSlider}\r\n                        onAfterChange = {value=>this.drawBarChart(value)}\r\n                        trackStyle={{\r\n                            backgroundColor: '#cccccc',\r\n                        }}\r\n                        railStyle={{\r\n                            backgroundColor: '#cccccc',\r\n                        }}\r\n                        handleStyle={{\r\n                            borderColor: '#4d4d4d',\r\n                        }}\r\n                        min={0}\r\n                        max={499}\r\n                        defaultValue={249}\r\n                        step={1}\r\n                    />\r\n                </div>\r\n                <div id =\"mt-sen\">\r\n                </div>\r\n            </div>\r\n        if(type==='m1') {\r\n            content = w1;\r\n            title = 'Weight Matrix 1 (35 X 1024)'\r\n        }\r\n        else if (type === 'm2') \r\n        {\r\n            content = w2;\r\n            title = 'Weight Matrix 2 (1024 X 800)'\r\n        }\r\n        else if (type === 'm3') {\r\n            content = w3;\r\n            title = 'Weight Matrix 3 (800 X 500)'\r\n        }\r\n        else if (type === 'm4') {\r\n            content = w4;\r\n            title = 'Weight Matrix 4 (500 X 400)'\r\n        }\r\n        return (\r\n            <div>\r\n                <div \r\n                    style={{\r\n                        width: '97vw',\r\n                        textAlign: 'center',\r\n                    }}\r\n                    className='block title'\r\n                >NN Analyze</div>\r\n                <div \r\n                    style={{\r\n                        width: '10vw',\r\n                        height: '40vw',\r\n                        padding:'0.8vw',\r\n                    }}\r\n                    className='block'\r\n                >\r\n                    <div className = 'matrixChoose grow'>\r\n                        <div className = 'vertical-text'>35</div>\r\n                        <img className = 'part' src={m1_thumb} alt='m1_thumb'></img>\r\n                        <div className = 'corner-text'>W1</div>\r\n                        <div className = 'center-text'>1024</div>\r\n                    </div>\r\n                    <div className = 'matrixChoose grow'>\r\n                        <div className = 'vertical-text'>1024</div>\r\n                        <img className = 'part' src={m2_thumb} alt='m2_thumb'></img>\r\n                        <div className = 'corner-text'>W2</div>\r\n                        <div className = 'center-text'>800</div>\r\n                    </div>\r\n                    <div className = 'matrixChoose grow'>\r\n                        <div className = 'vertical-text'>800</div>\r\n                        <img className = 'part' src={m3_thumb} alt='m3_thumb'></img>\r\n                        <div className = 'corner-text'>W3</div>\r\n                        <div className = 'center-text'>500</div>\r\n                    </div>\r\n                    <div className = 'matrixChoose grow'>\r\n                        <div className = 'vertical-text'>500</div>\r\n                        <img className = 'part' src={m4_thumb} alt='m4_thumb'></img>\r\n                        <div className = 'corner-text'>W4</div>\r\n                        <div className = 'center-text'>400</div>\r\n                    </div>\r\n                </div>\r\n                <div \r\n                    style={{\r\n                        width: '87vw',\r\n                        height: '40vw',\r\n                        padding: '0.8vw',\r\n                    }}\r\n                    className='block'\r\n                    id = 'matrix'\r\n                >\r\n                    <div id = 'mt-title' className='title'>{title}</div>\r\n                    <div id = 'mt-legend'>\r\n                        <svg viewBox='0 0 2215 100'></svg>\r\n                    </div>\r\n                    <div id = 'mt-body'>\r\n                        {content}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MatrixView;","import React, { Component } from 'react';\r\nimport OutputCharts from './OutputCharts';\r\nimport InputCharts from './inputComponents/InputCharts';\r\nimport MaxtrixView from './MatrixView';\r\nimport axios from 'axios';\r\nimport data from './data/1/NNVA_data';\r\nimport 'react-table/react-table.css'\r\nimport 'rc-slider/assets/index.css';\r\nimport 'rc-tooltip/assets/bootstrap.css';\r\nimport './style.css';\r\nimport act_max from './data/optimizer_data/NNVA_act_max';\r\nimport act_min from './data/optimizer_data/NNVA_act_min';\r\nimport act_max_min from './data/optimizer_data/NNVA_act_max_min';\r\n\r\nclass App extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    let para_names = [\r\n      \"k_RL\",\r\n      \"k_RLm\",\r\n      \"k_Rd0\",\r\n      \"k_Rs\",\r\n      \"k_Rd1\",\r\n      \"k_Ga\",\r\n      \"k_G1\",\r\n      \"k_Gd\",\r\n      \"k_24cm0\",\r\n      \"k_24cm1\",\r\n      \"k_24mc\",\r\n      \"k_24d\",\r\n      \"k_42a\",\r\n      \"k_42d\",\r\n      \"k_B1cm\",\r\n      \"k_B1mc\",\r\n      \"k_Cla4a\",\r\n      \"k_Cla4d\",\r\n      \"C24_t\",\r\n      \"B1_t\",\r\n      \"C42_t\",\r\n      \"G_t\",\r\n      \"R_t\",\r\n      \"q\",\r\n      \"h\",\r\n      \"D_R\",\r\n      \"D_RL\",\r\n      \"D_G\",\r\n      \"D_Ga\",\r\n      \"D_Gbg\",\r\n      \"D_Gd\",\r\n      \"D_c24m\",\r\n      \"D_c42\",\r\n      \"D_c42a\",\r\n      \"D_B1m\"\r\n    ];\r\n    this.para_names = para_names;\r\n    let marks = [];\r\n    for (let i = 0;i<35;i++){\r\n      let mark = {}\r\n      const datum = data.pset[i]\r\n      mark[datum]={\r\n        label: `(${datum.toFixed(2)})`,\r\n        name: 'Cur',\r\n        style:{\r\n          color: '#4d4d4d'\r\n        }\r\n      }\r\n      marks.push(mark)\r\n    }\r\n    this.sortMarks(marks)\r\n\r\n    this.state = {\r\n      data:data,\r\n      previewData: null,\r\n      marks: marks,\r\n    }\r\n    this.getData = this.getData.bind(this);\r\n    this.changePreColor = this.changePreColor.bind(this);\r\n    this.updateMarks = this.updateMarks.bind(this)\r\n  }\r\n\r\n  sortMarks(marks){\r\n    for (let i=0;i<35;i++){\r\n      let mark = marks[i];\r\n      let keys = Object.keys(mark)\r\n      for (let i in mark){\r\n        mark[i].level = 0;\r\n      }\r\n      for (let i=0;i<keys.length;i++){\r\n        for (let j = i+1;j<keys.length;j++){\r\n          let diff = Math.abs(keys[j]-keys[i])\r\n          if (diff<0.15){\r\n            mark[keys[j]].level = mark[keys[i]].level+1;\r\n          } \r\n        }\r\n      }\r\n      for (let i in mark){\r\n        mark[i].style.transform = 'translateX(-80%) rotate(-70deg) translateX(-'+mark[i].level*100+'%)';\r\n      }\r\n    }\r\n  }\r\n\r\n  changePreColor(c){\r\n    this.setState({preColor:c})\r\n  }\r\n\r\n  getData(url,para){\r\n    axios.get(url,{\r\n      params: para,\r\n    })\r\n      .then(res=>{\r\n        this.setState({previewData: res.data});\r\n      });\r\n  }\r\n\r\n  updateMarks(start,end,type){\r\n    let act,color;\r\n    if(type==='Max') {\r\n      act = act_max.act_max;\r\n      color = '#ff1a1a'\r\n    }\r\n    else if (type === 'Min'){\r\n      act = act_min.act_min;\r\n      color = 'dodgerblue'\r\n    } \r\n    else if (type === 'Com') {\r\n      act = act_max_min.act_max_min;\r\n      color = '#0c4'\r\n    }\r\n    let line = act[start*10+end]\r\n    let act_data = line[2]\r\n    let marks = this.state.marks.slice(0)\r\n    for (let i = 0;i<35;i++){\r\n      let mark = marks[i]\r\n      for (const key in mark){\r\n        if (mark[key].name === type)\r\n          delete mark[key]\r\n      }\r\n      const datum = act_data[i]\r\n      mark[datum]={\r\n        label: `(${datum.toFixed(2)})`,\r\n        name: type,\r\n        style:{\r\n          color: color,\r\n        }\r\n      }\r\n    }\r\n    this.sortMarks(marks)\r\n    this.setState({marks:marks})\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        {/* <p align=\"center\"><font size=\"8px\" color=\"#777\" fontFamily=\"Georgia\">NNVA: Neural Network Assisted Visual Analysis</font></p> */}\r\n        <OutputCharts\r\n          paraName = {this.para_names}\r\n          data={this.state.data}\r\n          changePreColor = {this.changePreColor}\r\n          updateMarks = {this.updateMarks}\r\n        />\r\n        <InputCharts\r\n          paraName = {this.para_names}\r\n          previewData={this.state.previewData}\r\n          request = {this.getData}\r\n          marks = {this.state.marks}\r\n          preColor = {this.state.preColor}\r\n          data = {this.state.data}\r\n        />\r\n        <MaxtrixView\r\n          paraName = {this.para_names}\r\n         />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import 'bootstrap/dist/css/bootstrap.min.css'\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}